"use strict";(self.webpackChunkCeres=self.webpackChunkCeres||[]).push([[42],{8346:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "default": function() { return /* binding */ Coupon; }\n});\n\n;// CONCATENATED MODULE: ./node_modules/babel-loader/lib/index.js??clonedRuleSet-2.use!./node_modules/vue-loader/lib/loaders/templateLoader.js??ruleSet[1].rules[2]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./resources/js/src/app/components/basket/Coupon.vue?vue&type=template&id=0916c176&\nvar render = function render() {\n  var _vm = this,\n    _c = _vm._self._c;\n  return _c("div", {\n    staticClass: "cmp"\n  }, [_vm.isCheckoutReadonly && !!_vm.$translate("Ceres::Template.couponReadonlyInfoText") ? _c("p", [_vm._v("\\n        " + _vm._s(_vm.couponReadonlyInfoText) + "\\n    ")]) : _vm._e(), _vm._v(" "), _c("div", {\n    class: {\n      "input-group": true,\n      "component-loading": _vm.isCheckoutReadonly,\n      "is-loading": _vm.isCheckoutReadonly\n    }\n  }, [_c("input", {\n    directives: [{\n      name: "model",\n      rawName: "v-model",\n      value: _vm.couponCode,\n      expression: "couponCode"\n    }],\n    staticClass: "form-control",\n    attrs: {\n      type: "text",\n      placeholder: _vm.$translate("Ceres::Template.couponEnterCoupon"),\n      disabled: _vm.disabled || _vm.isCheckoutReadonly,\n      "data-testing": "coupon-input"\n    },\n    domProps: {\n      value: _vm.couponCode\n    },\n    on: {\n      keyup: function keyup($event) {\n        if (!$event.type.indexOf("key") && _vm._k($event.keyCode, "enter", 13, $event.key, "Enter")) return null;\n        return _vm.redeemCode();\n      },\n      input: function input($event) {\n        if ($event.target.composing) return;\n        _vm.couponCode = $event.target.value;\n      }\n    }\n  }), _vm._v(" "), _c("span", {\n    staticClass: "input-group-btn"\n  }, [!_vm.disabled ? _c("button", {\n    staticClass: "btn btn-medium btn-primary btn-appearance",\n    attrs: {\n      type: "button",\n      disabled: _vm.waiting || _vm.isCheckoutReadonly,\n      "data-testing": "coupon-redeem"\n    },\n    on: {\n      click: function click($event) {\n        return _vm.redeemCode();\n      }\n    }\n  }, [_c("icon", {\n    attrs: {\n      icon: "gift",\n      loading: _vm.waiting\n    }\n  }), _vm._v("\\n                " + _vm._s(_vm.$translate("Ceres::Template.couponRedeem")) + "\\n            ")], 1) : _c("button", {\n    staticClass: "btn btn-medium btn-danger",\n    attrs: {\n      type: "button",\n      disabled: _vm.waiting || _vm.isCheckoutReadonly,\n      "data-testing": "coupon-remove"\n    },\n    on: {\n      click: function click($event) {\n        return _vm.removeCode();\n      }\n    }\n  }, [_c("icon", {\n    attrs: {\n      icon: "trash",\n      loading: _vm.waiting\n    }\n  }), _vm._v("\\n                " + _vm._s(_vm.$translate("Ceres::Template.couponRemove")) + "\\n            ")], 1)])])]);\n};\nvar staticRenderFns = [];\nrender._withStripped = true;\n\n;// CONCATENATED MODULE: ./resources/js/src/app/components/basket/Coupon.vue?vue&type=template&id=0916c176&\n\n// EXTERNAL MODULE: ./resources/js/src/app/exceptions/ExceptionMap.js\nvar ExceptionMap = __webpack_require__(6799);\n// EXTERNAL MODULE: ./resources/js/src/app/services/TranslationService.js\nvar TranslationService = __webpack_require__(6698);\n// EXTERNAL MODULE: ./node_modules/vuex/dist/vuex.esm.js\nvar vuex_esm = __webpack_require__(629);\n;// CONCATENATED MODULE: ./node_modules/babel-loader/lib/index.js??clonedRuleSet-2.use!./node_modules/vue-loader/lib/index.js??vue-loader-options!./resources/js/src/app/components/basket/Coupon.vue?vue&type=script&lang=js&\nfunction _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }\nvar NotificationService = __webpack_require__(1841);\n\n\n\n/* harmony default export */ var Couponvue_type_script_lang_js_ = ({\n  name: "coupon",\n  props: {\n    template: {\n      type: String,\n      default: "#vue-coupon"\n    }\n  },\n  data: function data() {\n    return {\n      waiting: false,\n      couponCode: ""\n    };\n  },\n  watch: {\n    redeemedCouponCode: function redeemedCouponCode(val) {\n      this.couponCode = val;\n    }\n  },\n  computed: _objectSpread({\n    disabled: function disabled() {\n      if (this.redeemedCouponCode) {\n        return true;\n      }\n      return false;\n    }\n  }, (0,vuex_esm/* mapState */.rn)({\n    redeemedCouponCode: function redeemedCouponCode(state) {\n      return state.basket.data.couponCode;\n    },\n    isBasketLoading: function isBasketLoading(state) {\n      return state.basket.isBasketLoading;\n    },\n    isCheckoutReadonly: function isCheckoutReadonly(state) {\n      return state.checkout.readOnly;\n    }\n  })),\n  mounted: function mounted() {\n    var _this = this;\n    this.$nextTick(function () {\n      if (_this.redeemedCouponCode) {\n        _this.couponCode = _this.redeemedCouponCode;\n      }\n    });\n  },\n  methods: {\n    redeemCode: function redeemCode() {\n      var _this2 = this;\n      // remove whitespaces\n      this.couponCode = this.couponCode.replace(/\\s/g, "");\n      if (this.couponCode.length > 0) {\n        this.waiting = true;\n        this.$store.dispatch("redeemCouponCode", this.couponCode).then(function (response) {\n          _this2.waiting = false;\n          NotificationService.success(TranslationService/* default.translate */.Z.translate("Ceres::Template.couponRedeemSuccess")).closeAfter(10000);\n        }, function (error) {\n          _this2.waiting = false;\n          NotificationService.error(_this2.getCouponRedemptionErrorMessage(error)).closeAfter(10000);\n        });\n      } else {\n        NotificationService.error(TranslationService/* default.translate */.Z.translate("Ceres::Template.couponIsEmpty")).closeAfter(10000);\n      }\n    },\n    removeCode: function removeCode() {\n      var _this3 = this;\n      this.waiting = true;\n      this.$store.dispatch("removeCouponCode", this.couponCode).then(function (response) {\n        _this3.waiting = false;\n        NotificationService.success(TranslationService/* default.translate */.Z.translate("Ceres::Template.couponRemoveSuccess")).closeAfter(10000);\n      }, function (error) {\n        _this3.waiting = false;\n        NotificationService.error(TranslationService/* default.translate */.Z.translate("Ceres::Template.couponRemoveFailure")).closeAfter(10000);\n      });\n    },\n    getCouponRedemptionErrorMessage: function getCouponRedemptionErrorMessage(error) {\n      var errorCode = error && error.warn && error.warn.code || 0;\n      if (errorCode > 0 && ExceptionMap/* default.has */.Z.has(errorCode.toString())) {\n        return TranslationService/* default.translate */.Z.translate("Ceres::Template." + ExceptionMap/* default.get */.Z.get(errorCode.toString()));\n      }\n      return TranslationService/* default.translate */.Z.translate("Ceres::Template.couponRedeemFailure");\n    }\n  }\n});\n;// CONCATENATED MODULE: ./resources/js/src/app/components/basket/Coupon.vue?vue&type=script&lang=js&\n /* harmony default export */ var basket_Couponvue_type_script_lang_js_ = (Couponvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__(1900);\n;// CONCATENATED MODULE: ./resources/js/src/app/components/basket/Coupon.vue\n\n\n\n\n\n/* normalize component */\n;\nvar component = (0,componentNormalizer/* default */.Z)(\n  basket_Couponvue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var Coupon = (component.exports);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNBLENBQXNHO0FBQ3RHLGdCQUFnQixzQ0FBVTtBQUMxQixFQUFFLHFDQUFNO0FBQ1IsRUFBRSxNQUFNO0FBQ1IsRUFBRSxlQUFlO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwyQ0FBZSIsInNvdXJjZXMiOlsid2VicGFjazovL0NlcmVzLy4vcmVzb3VyY2VzL2pzL3NyYy9hcHAvY29tcG9uZW50cy9iYXNrZXQvQ291cG9uLnZ1ZT85Njc5Iiwid2VicGFjazovL0NlcmVzLy4vcmVzb3VyY2VzL2pzL3NyYy9hcHAvY29tcG9uZW50cy9iYXNrZXQvQ291cG9uLnZ1ZT85OTA3Iiwid2VicGFjazovL0NlcmVzL3Jlc291cmNlcy9qcy9zcmMvYXBwL2NvbXBvbmVudHMvYmFza2V0L0NvdXBvbi52dWU/OTAzOSIsIndlYnBhY2s6Ly9DZXJlcy8uL3Jlc291cmNlcy9qcy9zcmMvYXBwL2NvbXBvbmVudHMvYmFza2V0L0NvdXBvbi52dWU/NGQxNCIsIndlYnBhY2s6Ly9DZXJlcy8uL3Jlc291cmNlcy9qcy9zcmMvYXBwL2NvbXBvbmVudHMvYmFza2V0L0NvdXBvbi52dWU/YzVmMCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICB2YXIgX3ZtID0gdGhpcyxcbiAgICBfYyA9IF92bS5fc2VsZi5fY1xuICByZXR1cm4gX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJjbXBcIiB9LCBbXG4gICAgX3ZtLmlzQ2hlY2tvdXRSZWFkb25seSAmJlxuICAgICEhX3ZtLiR0cmFuc2xhdGUoXCJDZXJlczo6VGVtcGxhdGUuY291cG9uUmVhZG9ubHlJbmZvVGV4dFwiKVxuICAgICAgPyBfYyhcInBcIiwgW1xuICAgICAgICAgIF92bS5fdihcIlxcbiAgICAgICAgXCIgKyBfdm0uX3MoX3ZtLmNvdXBvblJlYWRvbmx5SW5mb1RleHQpICsgXCJcXG4gICAgXCIpLFxuICAgICAgICBdKVxuICAgICAgOiBfdm0uX2UoKSxcbiAgICBfdm0uX3YoXCIgXCIpLFxuICAgIF9jKFxuICAgICAgXCJkaXZcIixcbiAgICAgIHtcbiAgICAgICAgY2xhc3M6IHtcbiAgICAgICAgICBcImlucHV0LWdyb3VwXCI6IHRydWUsXG4gICAgICAgICAgXCJjb21wb25lbnQtbG9hZGluZ1wiOiBfdm0uaXNDaGVja291dFJlYWRvbmx5LFxuICAgICAgICAgIFwiaXMtbG9hZGluZ1wiOiBfdm0uaXNDaGVja291dFJlYWRvbmx5LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIFtcbiAgICAgICAgX2MoXCJpbnB1dFwiLCB7XG4gICAgICAgICAgZGlyZWN0aXZlczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBuYW1lOiBcIm1vZGVsXCIsXG4gICAgICAgICAgICAgIHJhd05hbWU6IFwidi1tb2RlbFwiLFxuICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmNvdXBvbkNvZGUsXG4gICAgICAgICAgICAgIGV4cHJlc3Npb246IFwiY291cG9uQ29kZVwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImZvcm0tY29udHJvbFwiLFxuICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBfdm0uJHRyYW5zbGF0ZShcIkNlcmVzOjpUZW1wbGF0ZS5jb3Vwb25FbnRlckNvdXBvblwiKSxcbiAgICAgICAgICAgIGRpc2FibGVkOiBfdm0uZGlzYWJsZWQgfHwgX3ZtLmlzQ2hlY2tvdXRSZWFkb25seSxcbiAgICAgICAgICAgIFwiZGF0YS10ZXN0aW5nXCI6IFwiY291cG9uLWlucHV0XCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBkb21Qcm9wczogeyB2YWx1ZTogX3ZtLmNvdXBvbkNvZGUgfSxcbiAgICAgICAgICBvbjoge1xuICAgICAgICAgICAga2V5dXA6IGZ1bmN0aW9uICgkZXZlbnQpIHtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICEkZXZlbnQudHlwZS5pbmRleE9mKFwia2V5XCIpICYmXG4gICAgICAgICAgICAgICAgX3ZtLl9rKCRldmVudC5rZXlDb2RlLCBcImVudGVyXCIsIDEzLCAkZXZlbnQua2V5LCBcIkVudGVyXCIpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICAgICAgICByZXR1cm4gX3ZtLnJlZGVlbUNvZGUoKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlucHV0OiBmdW5jdGlvbiAoJGV2ZW50KSB7XG4gICAgICAgICAgICAgIGlmICgkZXZlbnQudGFyZ2V0LmNvbXBvc2luZykgcmV0dXJuXG4gICAgICAgICAgICAgIF92bS5jb3Vwb25Db2RlID0gJGV2ZW50LnRhcmdldC52YWx1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KSxcbiAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgX2MoXCJzcGFuXCIsIHsgc3RhdGljQ2xhc3M6IFwiaW5wdXQtZ3JvdXAtYnRuXCIgfSwgW1xuICAgICAgICAgICFfdm0uZGlzYWJsZWRcbiAgICAgICAgICAgID8gX2MoXG4gICAgICAgICAgICAgICAgXCJidXR0b25cIixcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJidG4gYnRuLW1lZGl1bSBidG4tcHJpbWFyeSBidG4tYXBwZWFyYW5jZVwiLFxuICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6IF92bS53YWl0aW5nIHx8IF92bS5pc0NoZWNrb3V0UmVhZG9ubHksXG4gICAgICAgICAgICAgICAgICAgIFwiZGF0YS10ZXN0aW5nXCI6IFwiY291cG9uLXJlZGVlbVwiLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5yZWRlZW1Db2RlKClcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICBfYyhcImljb25cIiwgeyBhdHRyczogeyBpY29uOiBcImdpZnRcIiwgbG9hZGluZzogX3ZtLndhaXRpbmcgfSB9KSxcbiAgICAgICAgICAgICAgICAgIF92bS5fdihcbiAgICAgICAgICAgICAgICAgICAgXCJcXG4gICAgICAgICAgICAgICAgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgIF92bS5fcyhfdm0uJHRyYW5zbGF0ZShcIkNlcmVzOjpUZW1wbGF0ZS5jb3Vwb25SZWRlZW1cIikpICtcbiAgICAgICAgICAgICAgICAgICAgICBcIlxcbiAgICAgICAgICAgIFwiXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICA6IF9jKFxuICAgICAgICAgICAgICAgIFwiYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiYnRuIGJ0bi1tZWRpdW0gYnRuLWRhbmdlclwiLFxuICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6IF92bS53YWl0aW5nIHx8IF92bS5pc0NoZWNrb3V0UmVhZG9ubHksXG4gICAgICAgICAgICAgICAgICAgIFwiZGF0YS10ZXN0aW5nXCI6IFwiY291cG9uLXJlbW92ZVwiLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5yZW1vdmVDb2RlKClcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICBfYyhcImljb25cIiwge1xuICAgICAgICAgICAgICAgICAgICBhdHRyczogeyBpY29uOiBcInRyYXNoXCIsIGxvYWRpbmc6IF92bS53YWl0aW5nIH0sXG4gICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgIF92bS5fdihcbiAgICAgICAgICAgICAgICAgICAgXCJcXG4gICAgICAgICAgICAgICAgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgIF92bS5fcyhfdm0uJHRyYW5zbGF0ZShcIkNlcmVzOjpUZW1wbGF0ZS5jb3Vwb25SZW1vdmVcIikpICtcbiAgICAgICAgICAgICAgICAgICAgICBcIlxcbiAgICAgICAgICAgIFwiXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICApLFxuICAgICAgICBdKSxcbiAgICAgIF1cbiAgICApLFxuICBdKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsImV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTIudXNlIS4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3RlbXBsYXRlTG9hZGVyLmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzJdIS4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vQ291cG9uLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0wOTE2YzE3NiZcIiIsIjx0ZW1wbGF0ZT5cbiAgICA8ZGl2IGNsYXNzPVwiY21wXCI+XG4gICAgICAgIDxwIHYtaWY9XCJpc0NoZWNrb3V0UmVhZG9ubHkgJiYgISEkdHJhbnNsYXRlKCdDZXJlczo6VGVtcGxhdGUuY291cG9uUmVhZG9ubHlJbmZvVGV4dCcpXCI+XG4gICAgICAgICAgICB7eyBjb3Vwb25SZWFkb25seUluZm9UZXh0IH19XG4gICAgICAgIDwvcD5cbiAgICAgICAgPGRpdiA6Y2xhc3M9XCJ7J2lucHV0LWdyb3VwJzp0cnVlLCAnY29tcG9uZW50LWxvYWRpbmcnOmlzQ2hlY2tvdXRSZWFkb25seSwgJ2lzLWxvYWRpbmcnOmlzQ2hlY2tvdXRSZWFkb25seX1cIj5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICBjbGFzcz1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgdi1tb2RlbD1cImNvdXBvbkNvZGVcIlxuICAgICAgICAgICAgICAgIDpwbGFjZWhvbGRlcj1cIiR0cmFuc2xhdGUoJ0NlcmVzOjpUZW1wbGF0ZS5jb3Vwb25FbnRlckNvdXBvbicpXCJcbiAgICAgICAgICAgICAgICBAa2V5dXAuZW50ZXI9XCJyZWRlZW1Db2RlKClcIlxuICAgICAgICAgICAgICAgIDpkaXNhYmxlZD1cImRpc2FibGVkIHx8IGlzQ2hlY2tvdXRSZWFkb25seVwiXG4gICAgICAgICAgICAgICAgZGF0YS10ZXN0aW5nPVwiY291cG9uLWlucHV0XCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiaW5wdXQtZ3JvdXAtYnRuXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJ0biBidG4tbWVkaXVtIGJ0bi1wcmltYXJ5IGJ0bi1hcHBlYXJhbmNlXCJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgIEBjbGljaz1cInJlZGVlbUNvZGUoKVwiXG4gICAgICAgICAgICAgICAgICAgIDpkaXNhYmxlZD1cIndhaXRpbmcgfHwgaXNDaGVja291dFJlYWRvbmx5XCIgdi1pZj1cIiFkaXNhYmxlZFwiXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtdGVzdGluZz1cImNvdXBvbi1yZWRlZW1cIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGljb24gaWNvbj1cImdpZnRcIiA6bG9hZGluZz1cIndhaXRpbmdcIj48L2ljb24+XG4gICAgICAgICAgICAgICAgICAgIHt7ICR0cmFuc2xhdGUoXCJDZXJlczo6VGVtcGxhdGUuY291cG9uUmVkZWVtXCIpIH19XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJ0biBidG4tbWVkaXVtIGJ0bi1kYW5nZXJcIlxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgQGNsaWNrPVwicmVtb3ZlQ29kZSgpXCJcbiAgICAgICAgICAgICAgICAgICAgOmRpc2FibGVkPVwid2FpdGluZyB8fCBpc0NoZWNrb3V0UmVhZG9ubHlcIlxuICAgICAgICAgICAgICAgICAgICB2LWVsc2VcbiAgICAgICAgICAgICAgICAgICAgZGF0YS10ZXN0aW5nPVwiY291cG9uLXJlbW92ZVwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8aWNvbiBpY29uPVwidHJhc2hcIiA6bG9hZGluZz1cIndhaXRpbmdcIj48L2ljb24+XG4gICAgICAgICAgICAgICAgICAgIHt7ICR0cmFuc2xhdGUoXCJDZXJlczo6VGVtcGxhdGUuY291cG9uUmVtb3ZlXCIpIH19XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdD5cblxuY29uc3QgTm90aWZpY2F0aW9uU2VydmljZSA9IHJlcXVpcmUoXCIuLi8uLi9zZXJ2aWNlcy9Ob3RpZmljYXRpb25TZXJ2aWNlXCIpO1xuXG5pbXBvcnQgRXhjZXB0aW9uTWFwIGZyb20gXCIuLi8uLi9leGNlcHRpb25zL0V4Y2VwdGlvbk1hcFwiO1xuaW1wb3J0IFRyYW5zbGF0aW9uU2VydmljZSBmcm9tIFwiLi4vLi4vc2VydmljZXMvVHJhbnNsYXRpb25TZXJ2aWNlXCI7XG5pbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gXCJ2dWV4XCI7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBuYW1lOiBcImNvdXBvblwiLFxuXG4gICAgcHJvcHM6IHtcbiAgICAgICAgdGVtcGxhdGU6XG4gICAgICAgIHtcbiAgICAgICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgICAgIGRlZmF1bHQ6IFwiI3Z1ZS1jb3Vwb25cIlxuICAgICAgICB9XG4gICAgfSxcblxuICAgIGRhdGEoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHdhaXRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgY291cG9uQ29kZTogXCJcIlxuICAgICAgICB9O1xuICAgIH0sXG5cbiAgICB3YXRjaDpcbiAgICB7XG4gICAgICAgIHJlZGVlbWVkQ291cG9uQ29kZSh2YWwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY291cG9uQ29kZSA9IHZhbDtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBjb21wdXRlZDpcbiAgICB7XG4gICAgICAgIGRpc2FibGVkKClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMucmVkZWVtZWRDb3Vwb25Db2RlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLi4ubWFwU3RhdGUoe1xuICAgICAgICAgICAgcmVkZWVtZWRDb3Vwb25Db2RlOiBzdGF0ZSA9PiBzdGF0ZS5iYXNrZXQuZGF0YS5jb3Vwb25Db2RlLFxuICAgICAgICAgICAgaXNCYXNrZXRMb2FkaW5nOiBzdGF0ZSA9PiBzdGF0ZS5iYXNrZXQuaXNCYXNrZXRMb2FkaW5nLFxuICAgICAgICAgICAgaXNDaGVja291dFJlYWRvbmx5OiBzdGF0ZSA9PiBzdGF0ZS5jaGVja291dC5yZWFkT25seVxuICAgICAgICB9KVxuICAgIH0sXG5cbiAgICBtb3VudGVkKClcbiAgICB7XG4gICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlZGVlbWVkQ291cG9uQ29kZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvdXBvbkNvZGUgPSB0aGlzLnJlZGVlbWVkQ291cG9uQ29kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIG1ldGhvZHM6XG4gICAge1xuICAgICAgICByZWRlZW1Db2RlKClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIHdoaXRlc3BhY2VzXG4gICAgICAgICAgICB0aGlzLmNvdXBvbkNvZGUgPSB0aGlzLmNvdXBvbkNvZGUucmVwbGFjZSgvXFxzL2csIFwiXCIpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5jb3Vwb25Db2RlLmxlbmd0aCA+IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy53YWl0aW5nID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKFwicmVkZWVtQ291cG9uQ29kZVwiLCB0aGlzLmNvdXBvbkNvZGUpLnRoZW4oXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0+XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2FpdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgTm90aWZpY2F0aW9uU2VydmljZS5zdWNjZXNzKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRyYW5zbGF0aW9uU2VydmljZS50cmFuc2xhdGUoXCJDZXJlczo6VGVtcGxhdGUuY291cG9uUmVkZWVtU3VjY2Vzc1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgKS5jbG9zZUFmdGVyKDEwMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IgPT5cbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53YWl0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBOb3RpZmljYXRpb25TZXJ2aWNlLmVycm9yKHRoaXMuZ2V0Q291cG9uUmVkZW1wdGlvbkVycm9yTWVzc2FnZShlcnJvcikpLmNsb3NlQWZ0ZXIoMTAwMDApO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBOb3RpZmljYXRpb25TZXJ2aWNlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICBUcmFuc2xhdGlvblNlcnZpY2UudHJhbnNsYXRlKFwiQ2VyZXM6OlRlbXBsYXRlLmNvdXBvbklzRW1wdHlcIilcbiAgICAgICAgICAgICAgICApLmNsb3NlQWZ0ZXIoMTAwMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHJlbW92ZUNvZGUoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLndhaXRpbmcgPSB0cnVlO1xuXG4gICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaChcInJlbW92ZUNvdXBvbkNvZGVcIiwgdGhpcy5jb3Vwb25Db2RlKS50aGVuKFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLndhaXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgTm90aWZpY2F0aW9uU2VydmljZS5zdWNjZXNzKFxuICAgICAgICAgICAgICAgICAgICAgICAgVHJhbnNsYXRpb25TZXJ2aWNlLnRyYW5zbGF0ZShcIkNlcmVzOjpUZW1wbGF0ZS5jb3Vwb25SZW1vdmVTdWNjZXNzXCIpXG4gICAgICAgICAgICAgICAgICAgICkuY2xvc2VBZnRlcigxMDAwMCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvciA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53YWl0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIE5vdGlmaWNhdGlvblNlcnZpY2UuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICBUcmFuc2xhdGlvblNlcnZpY2UudHJhbnNsYXRlKFwiQ2VyZXM6OlRlbXBsYXRlLmNvdXBvblJlbW92ZUZhaWx1cmVcIilcbiAgICAgICAgICAgICAgICAgICAgKS5jbG9zZUFmdGVyKDEwMDAwKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBnZXRDb3Vwb25SZWRlbXB0aW9uRXJyb3JNZXNzYWdlKGVycm9yKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBlcnJvckNvZGUgPSBlcnJvciAmJiBlcnJvci53YXJuICYmIGVycm9yLndhcm4uY29kZSB8fCAwO1xuICAgICAgICAgICAgaWYgKGVycm9yQ29kZSA+IDAgJiYgRXhjZXB0aW9uTWFwLmhhcyhlcnJvckNvZGUudG9TdHJpbmcoKSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFRyYW5zbGF0aW9uU2VydmljZS50cmFuc2xhdGUoXCJDZXJlczo6VGVtcGxhdGUuXCIgKyBFeGNlcHRpb25NYXAuZ2V0KGVycm9yQ29kZS50b1N0cmluZygpKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBUcmFuc2xhdGlvblNlcnZpY2UudHJhbnNsYXRlKFwiQ2VyZXM6OlRlbXBsYXRlLmNvdXBvblJlZGVlbUZhaWx1cmVcIik7XG4gICAgICAgIH1cbiAgICB9XG59XG48L3NjcmlwdD5cbiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMi51c2UhLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9Db3Vwb24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTIudXNlIS4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vQ291cG9uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIiIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vQ291cG9uLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0wOTE2YzE3NiZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9Db3Vwb24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9Db3Vwb24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiXSwibmFtZXMiOlsicmVuZGVyIiwiX3ZtIiwiX2MiLCJfc2VsZiIsInN0YXRpY0NsYXNzIiwiaXNDaGVja291dFJlYWRvbmx5IiwiJHRyYW5zbGF0ZSIsIl92IiwiX3MiLCJjb3Vwb25SZWFkb25seUluZm9UZXh0IiwiX2UiLCJjbGFzcyIsImRpcmVjdGl2ZXMiLCJuYW1lIiwicmF3TmFtZSIsInZhbHVlIiwiY291cG9uQ29kZSIsImV4cHJlc3Npb24iLCJhdHRycyIsInR5cGUiLCJwbGFjZWhvbGRlciIsImRpc2FibGVkIiwiZG9tUHJvcHMiLCJvbiIsImtleXVwIiwiJGV2ZW50IiwiaW5kZXhPZiIsIl9rIiwia2V5Q29kZSIsImtleSIsInJlZGVlbUNvZGUiLCJpbnB1dCIsInRhcmdldCIsImNvbXBvc2luZyIsIndhaXRpbmciLCJjbGljayIsImljb24iLCJsb2FkaW5nIiwicmVtb3ZlQ29kZSIsInN0YXRpY1JlbmRlckZucyIsIl93aXRoU3RyaXBwZWQiLCJwcm9wcyIsInRlbXBsYXRlIiwiZGVmYXVsdCIsImRhdGEiLCJ3YXRjaCIsInJlZGVlbWVkQ291cG9uQ29kZSIsImNvbXB1dGVkIiwibWFwU3RhdGUiLCJpc0Jhc2tldExvYWRpbmciLCJtb3VudGVkIiwibWV0aG9kcyIsIk5vdGlmaWNhdGlvblNlcnZpY2UiLCJUcmFuc2xhdGlvblNlcnZpY2UiLCJnZXRDb3Vwb25SZWRlbXB0aW9uRXJyb3JNZXNzYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///8346\n')}}]);