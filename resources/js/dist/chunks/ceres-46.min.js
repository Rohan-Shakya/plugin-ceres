"use strict";(self.webpackChunkCeres=self.webpackChunkCeres||[]).push([[46],{9058:function(e,t,s){s.r(t),s.d(t,{default:function(){return p}});var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"googleMapsContainer",staticClass:"maps-component position-relative",class:e.aspectClass},[e.scriptBlocked?s("div",[e._t("default")],2):e._e()])};o._withStripped=!0;var i=s(7301),a=s(1023),r={props:{address:{type:String,required:!1},lat:{type:Number,required:!1},lng:{type:Number,required:!1},zoom:{type:Number,default:16},maptype:{type:String,default:"roadmap"},aspectRatio:{type:String,default:"3-1"}},data:function(){return{scriptBlocked:!0}},computed:{aspectClass(){return"prop-"+this.aspectRatio}},mounted(){this.$nextTick((()=>{this.createScript().then((()=>{this.initializeMap()})).catch((()=>{}))}))},methods:{createScript(){return new Promise(((e,t)=>{const s=document.querySelector("script#google-maps-api");(0,a.le)(s)?(0,i.f)("media.googleMaps",(()=>{this.scriptBlocked=!1;const s=document.createElement("script");s.type="text/javascript",s.id="google-maps-api",s.src=`https://maps.googleapis.com/maps/api/js?key=${App.config.global.googleMapsApiKey}`,s.addEventListener("load",(()=>e(s)),!1),s.addEventListener("error",(()=>t(s)),!1),document.body.appendChild(s)}),(()=>{this.scriptBlocked=!0})):(this.scriptBlocked=!1,(0,a.le)(window.google)?s.addEventListener("load",(()=>e(s)),!1):e(s))}))},getCoordinates(){const e=!isNaN(this.lat)&&this.lat>-90&&this.lat<90,t=!isNaN(this.lng)&&this.lng>-180&&this.lng<180;return e&&t?Promise.resolve({lat:this.lat,lng:this.lng}):this.address&&window.google?new Promise(((e,t)=>{(new google.maps.Geocoder).geocode({address:this.address},((s,o)=>{s&&s.length>0&&s[0].geometry?e(s[0].geometry.location):t()}))})):Promise.reject()},initializeMap(){this.getCoordinates().then((e=>{const t=new google.maps.Map(this.$refs.googleMapsContainer,{center:e,zoom:this.zoom,mapTypeId:this.maptype});new google.maps.Marker({map:t,position:e})}))}}},n=(0,s(1900).Z)(r,o,[],!1,null,null,null);n.options.__file="resources/js/src/app/components/common/GoogleMaps.vue";var p=n.exports}}]);
//# sourceMappingURL=ceres-46.min.js.map