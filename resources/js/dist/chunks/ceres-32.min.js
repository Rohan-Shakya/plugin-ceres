"use strict";(self.webpackChunkCeres=self.webpackChunkCeres||[]).push([[32],{8496:function(t,e,r){r.d(e,{Z:function(){return n}});var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"d-flex mb-2"},[r("span",{staticClass:"text-muted"},[t._v(t._s(t.quantity)+"x")]),t._v(" "),r("div",{staticClass:"image-container mx-1"},[t.itemImage?r("lazy-img",{attrs:{"picture-class":"d-block mw-100 mh-100","image-url":t.itemImage,alt:t.altText,title:t.itemName}}):t._e()],1),t._v(" "),r("div",[r("a",{staticClass:"item-name text-primary text-appearance font-weight-bold text-break",attrs:{href:t._f("itemURL")(t.variation)}},[t._v("\n            "+t._s(t.itemName)+"\n        ")]),t._v(" "),t._l(t.variation.attributes,(function(e){return r("div",{staticClass:"small"},[r("strong",[t._v(t._s(e.attribute.names.name)+": ")]),t._v(" "),r("span",[t._v(t._s(e.value.names.name))])])})),t._v(" "),r("div",{staticClass:"text-muted small"},[t._l(t.variation.variationProperties,(function(e){return t._l(e.properties,(function(s){return r("div",[e.name?r("strong",[t._v(t._s(e.name)+": ")]):t._e(),t._v(" "),r("span",[t._v(t._s(s.names.name))]),t._v(" "),"file"==s.cast?r("span",[r("a",{attrs:{href:t._f("propertyFileUrl")(s.values.value),target:"_blank"},domProps:{innerHTML:t._s(s.values.value)}})]):r("span",{domProps:{innerHTML:t._s(s.values.value)}})])}))}))],2),t._v(" "),r("order-property-value-list",{attrs:{"basket-item":t.mappedBasketItem}})],2)])};s._withStripped=!0;var a={name:"set-component-item",components:{OrderPropertyValueList:r(5499).Z},props:{variation:Object,quantity:Number,orderProperties:Array,rebate:Number},computed:{itemImage(){const t=this.$options.filters.itemImages(this.variation.images,"urlPreview");return this.$options.filters.itemImage(t)},altText(){const t=this.$options.filters.itemImages(this.variation.images,"urlPreview");return this.$options.filters.itemImageAlternativeText(t)||this.itemName},itemName(){return this.$options.filters.itemName(this.variation)},mappedBasketItem(){return{variation:{data:this.variation},basketItemOrderParams:this.orderProperties}}}},i=(0,r(1900).Z)(a,s,[],!1,null,null,null);i.options.__file="resources/js/src/app/components/basket/list/SetComponentItem.vue";var n=i.exports},5499:function(t,e,r){r.d(e,{Z:function(){return d}});var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.shownProperties&&t.shownProperties.length?r("div",{staticClass:"small"},[r("div",{staticClass:"font-weight-bold my-1"},[t._v(t._s(t.$translate("Ceres::Template.basketAdditionalCosts"))+":")]),t._v(" "),r("ul",{staticClass:"ml-1 pl-3",attrs:{"data-testing":"order-property-list"}},t._l(t.shownProperties,(function(t){return r("order-property-value-list-item",{key:t.propertyId,attrs:{property:t}})})),1)]):t._e()};s._withStripped=!0;var a=r(1023),i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",[r("span",{staticClass:"d-block"},[r("strong",{class:{colon:t.showColon}},[t._v("\n            "+t._s(t.property.property.names.name)+" \n            "),t.surcharge>0?[t.isAdditionalCost||t.isTaxless?[t._v("\n                    ("+t._s(t.$translate("Ceres::Template.basketPlusAbbr"))+" "+t._s(t._f("currency")(t.surcharge))+")\n                ")]:[t._v("\n                    ("+t._s(t.$translate("Ceres::Template.basketIncludeAbbr"))+" "+t._s(t._f("currency")(t.surcharge))+")\n                ")]]:t._e()],2),t._v(" "),r("span",["file"===t.property.property.valueType?r("span",[r("a",{attrs:{href:t._f("fileUploadPath")(t.property.property.value),target:"_blank"}},[r("i",{staticClass:"fa fa-external-link",attrs:{"aria-hidden":"true"}}),t._v("\n                    "+t._s(t._f("fileName")(t.property.property.value))+"\n                ")])]):"empty"!==t.property.property.valueType?r("span",[t._v(t._s(t.property.property.value))]):t._e()])])])};i._withStripped=!0;var n=r(5876),o={name:"order-property-value-list-item",props:{property:{required:!0,type:Object}},computed:{surcharge(){return this.$options.filters.propertySurcharge([this.property],this.property.propertyId)},isAdditionalCost(){return(0,n.Lh)(this.property)},isTaxless(){return!(0,n.uP)(this.property)&&App.useVariationOrderProperties},showColon(){return this.property&&this.property.property.value&&"empty"!==this.property.property.valueType}}},l=r(1900),m=(0,l.Z)(o,i,[],!1,null,null,null);m.options.__file="resources/js/src/app/components/item/OrderPropertyValueListItem.vue";var u={name:"order-property-value-list",components:{OrderPropertyValueListItem:m.exports},props:{basketItem:{required:!0,type:Object}},computed:{shownProperties(){const t=[];return this.basketItem.variation.data.properties.forEach((e=>{const r=this.basketItem.basketItemOrderParams.find((t=>parseInt(t.propertyId)===e.propertyId));(0,a.$K)(r)&&("selection"===r.type?e.property.value=e.property.selectionValues[r.value].name:e.property.value=r.value),((0,a.$K)(r)||this.isPropertyWithAdditionalCosts(e))&&t.push(e)})),t}},methods:{isPropertyWithAdditionalCosts:t=>t.property&&t.property.isShownAtCheckout&&t.property.isShownAsAdditionalCosts&&!t.property.isOderProperty}},p=(0,l.Z)(u,s,[],!1,null,null,null);p.options.__file="resources/js/src/app/components/item/OrderPropertyValueList.vue";var d=p.exports},8236:function(t,e,r){r.r(e),r.d(e,{default:function(){return v}});var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t._l(t.orderData.order.orderItems,(function(e,s){return r("order-return-item",{key:s,attrs:{"order-item":e,"is-net":t.amount.isNet||t.showNetPrices,"item-details-data":t.itemDetailsData}})})),t._v(" "),r("div",{staticClass:"d-flex flex-wrap flex-column flex-sm-row justify-content-between mt-3"},[r("button",{staticClass:"btn btn-primary btn-appearance mt-1",class:t.buttonSizeClass,on:{click:function(e){return t.selectAllItems()}}},[t._v("\n            "+t._s(t.$translate("Ceres::Template.returnSelectAll"))+"\n            "),r("i",{staticClass:"fa fa-check-square-o default-float",attrs:{"aria-hidden":"true"}})]),t._v(" "),r("button",{staticClass:"btn btn-primary btn-appearance mt-1",class:t.buttonSizeClass,attrs:{disabled:t.isDisabled||t.isLoading},on:{click:function(e){return t.showConfirmationModal()}}},[t._v("\n            "+t._s(t.$translate("Ceres::Template.returnTrigger"))+"\n            "),r("i",{staticClass:"fa fa-arrow-right default-float",attrs:{"aria-hidden":"true"}})])]),t._v(" "),r("div",{ref:"orderReturnConfirmation",staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog"}},[r("div",{staticClass:"modal-dialog"},[r("div",{staticClass:"modal-content"},[r("div",{staticClass:"modal-header"},[r("h3",{staticClass:"modal-title"},[t._v(t._s(t.$translate("Ceres::Template.returnSendBack")))]),t._v(" "),r("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true","aria-label":t.$translate("Ceres::Template.closeIcon")}},[t._v("Ã—")])]),t._v(" "),r("div",{staticClass:"modal-body"},[r("ul",t._l(t.orderReturnItems,(function(e){return r("li",[t._v("\n                            "+t._s(e.quantity)+"x "+t._s(t._f("itemBundleName")(e.orderItem))+"\n                        ")])})),0),t._v(" "),r("div",{staticClass:"input-unit textarea cmp-contact mt-4"},[r("textarea",{staticClass:"no-resize",attrs:{id:"contact_wish",rows:"5"},on:{change:function(e){return t.updateOrderReturnNote(e.target.value)}}}),t._v(" "),r("label",{attrs:{for:"contact_wish"}},[t._v(t._s(t.$translate("Ceres::Template.returnReason")))])])]),t._v(" "),r("div",{staticClass:"modal-footer"},[r("button",{staticClass:"btn btn-secondary btn-medium",class:t.buttonSizeClass,attrs:{type:"button","data-dismiss":"modal"}},[r("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}}),t._v("\n                        "+t._s(t.$translate("Ceres::Template.returnCancel"))+"\n                    ")]),t._v(" "),r("button",{staticClass:"btn btn-primary btn-appearance btn-medium",class:t.buttonSizeClass,attrs:{disabled:t.isLoading,type:"button"},on:{click:function(e){return t.sendReturnItems()}}},[r("icon",{attrs:{icon:"check",loading:t.isLoading}}),t._v("\n                        "+t._s(t.$translate("Ceres::Template.returnConfirm"))+"\n                    ")],1)])])])])],2)};s._withStripped=!0;var a=r(1452),i=r(629),n=r(3279),o=r(9430),l=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("article",{staticClass:"basket-list-item py-3"},[r("div",{staticClass:"basket-item d-flex"},[r("div",{staticClass:"image-container"},[t.orderItemImage?r("img",{staticClass:"d-block mw-100 mh-100",attrs:{src:t.orderItemImage,alt:t._f("itemBundleName")(t.orderItem),title:t._f("itemBundleName")(t.orderItem)}}):t._e()]),t._v(" "),r("div",{staticClass:"meta-container-wrapper"},[r("div",{staticClass:"meta-container-wrapper-inner"},[r("div",{staticClass:"meta-container"},[r("div",{staticClass:"position-relative w-100"},[r("a",{staticClass:"item-name text-primary text-appearance small font-weight-bold text-break",attrs:{href:t.orderItemURL}},[t._v("\n                            "+t._s(t._f("itemBundleName")(t.orderItem))+"\n                        ")]),t._v(" "),r("div",{staticClass:"item-base-price small"},[t.isNet?[t._v("\n                                "+t._s(t._f("currency")(t.amount.priceNet,t.amount.currency))+"\n                            ")]:t._e(),t._v(" "),t.isNet?t._e():[t._v("\n                                "+t._s(t._f("currency")(t.amount.priceGross,t.amount.currency))+"\n                            ")]],2),t._v(" "),r("item-bundle",{attrs:{"bundle-type":t.orderItem.bundleType,"bundle-components":t.orderItem.bundleComponents}}),t._v(" "),t.orderItem.setComponents?r("order-return-set-component-list",{attrs:{"set-components":t.orderItem.setComponents,variations:t.variations}}):t._e(),t._v(" "),r("div",{staticClass:"item-small-prices small"},t._l(t.variation.attributes,(function(e){return r("div",[r("strong",[t._v(t._s(e.attribute.names.name)+": ")]),t._v(" "),r("span",[t._v(t._s(e.value.names.name))])])})),0),t._v(" "),t.orderItem.orderProperties?r("div",{staticClass:"item-small-prices text-muted small"},t._l(t.orderItem.orderProperties,(function(e){return r("div",[r("strong",[t._v(t._s(e.name)+": ")]),t._v(" "),"file"===e.type?r("span",[r("a",{staticClass:"text-primary text-appearance",attrs:{href:t.getOrderPropertyFileUrl(e),target:"_blank"}},[r("i",{staticClass:"fa fa-external-link",attrs:{"aria-hidden":"true"}}),t._v("\n                                        "+t._s(t._f("fileName")(e.value))+"\n                                    ")])]):"selection"===e.type?r("span",[t._v(t._s(e.selectionValueName))]):e.type?r("span",[t._v(t._s(e.value))]):t._e()])})),0):t._e()],1)]),t._v(" "),r("div",{staticClass:"basket-item-container-right ml-3"},[r("div",{staticClass:"qty-box-container"},[r("quantity-input",{attrs:{value:t.returnCount,interval:t.orderItem.minQuantity>0?t.orderItem.minQuantity:1,min:0,max:t.orderItem.quantity},on:{"quantity-change":t.updateQuantity}})],1),t._v(" "),r("div",{staticClass:"price-box ml-2"},[t.isNet?r("div",{staticClass:"item-total-price font-weight-bold text-right text-nowrap"},[t._v("\n                            "+t._s(t._f("currency")(t.orderItem.quantity*t.amount.priceNet,t.amount.currency))+"\n                        ")]):t._e(),t._v(" "),t.isNet?t._e():r("div",{staticClass:"item-total-price font-weight-bold text-right text-nowrap"},[t._v("\n                            "+t._s(t._f("currency")(t.orderItem.quantity*t.amount.priceGross,t.amount.currency))+"\n                        ")])])])]),t._v(" "),t.variation?r("div",{staticClass:"small"},[t.isDataFieldVisible("item_id")&&t.variation.item.id?[r("div",{staticClass:"mt-3"},[r("strong",[t._v(t._s(t.$translate("Ceres::Template.basketItemId"))+":")]),t._v(" "),r("span",[t._v(t._s(t.variation.item.id))])])]:t._e(),t._v(" "),t.isDataFieldVisible("custom_number")&&t.variation.variation.number?[r("div",[r("strong",[t._v(t._s(t.$translate("Ceres::Template.basketItemNumber"))+":")]),t._v(" "),r("span",[t._v(t._s(t.variation.variation.number))])])]:t._e(),t._v(" "),t.isDataFieldVisible("availability")&&t.variation.variation.availability.names.name?[r("div",[r("strong",[t._v(t._s(t.$translate("Ceres::Template.basketAvailability"))+":")]),t._v(" "),r("span",{staticClass:"badge",class:"availability-"+t.variation.variation.availability.id},[t._v("\n                            "+t._s(t.variation.variation.availability.names.name)+"\n                        ")])])]:t._e(),t._v(" "),t.isDataFieldVisible("description_long")&&t.variation.texts.description?[r("p",{staticClass:"my-3",domProps:{innerHTML:t._s(t.variation.texts.description)}})]:t._e(),t._v(" "),t.isDataFieldVisible("description_short")&&t.variation.texts.shortDescription?[r("p",{staticClass:"my-3",domProps:{innerHTML:t._s(t.variation.texts.shortDescription)}})]:t._e()],2):t._e()])])])};l._withStripped=!0;var m={name:"order-return-item",components:{OrderReturnSetComponentList:r(6717).Z},props:{orderItem:{type:Object,required:!0},itemDetailsData:{type:Array,default:()=>[]},isNet:{type:Boolean,default:!1}},data:()=>({returnCount:0}),created(){vueEventHub.$on("select-all-items",(()=>this.selectItem()))},computed:{orderItemImage(){return this.$store.getters.getOrderItemImage(this.orderItem.itemVariationId)},orderItemURL(){return this.$store.getters.getOrderItemURL(this.orderItem.itemVariationId)},variation(){return this.$store.getters.getOrderItemVariation(this.orderItem.itemVariationId)},variations(){return this.$store.state.orderReturn.orderData.variations},amount(){return this.orderItem.amounts.find((t=>!t.isSystemCurrency))||this.orderItem.amounts[0]}},methods:{updateQuantity(t){this.returnCount=t,this.returnCount>this.orderItem.quantity?this.returnCount=this.orderItem.quantity:this.returnCount<0&&(this.returnCount=0),this.$store.commit("updateOrderReturnItems",{quantity:parseInt(this.returnCount),orderItem:this.orderItem})},selectItem(){this.returnCount=this.orderItem.quantity},isDataFieldVisible(t){return this.itemDetailsData.includes(t)},getOrderPropertyFileUrl(t){return t.fileUrl||this.$options.filters.fileUploadPath(t.value)}}},u=r(1900),p=(0,u.Z)(m,l,[],!1,null,null,null);p.options.__file="resources/js/src/app/components/orderReturn/OrderReturnItem.vue";var d={components:{OrderReturnItem:p.exports},mixins:[o.Z],props:{initOrderData:{type:Object,required:!0},orderAccessKey:{type:String,default:""},itemDetailsData:{type:Array,default:()=>[]}},data:()=>({isLoading:!1}),created(){this.$store.commit("setOrderReturnData",this.initOrderData),this.$store.commit("setOrderAccessKey",this.orderAccessKey)},computed:{amount(){return this.orderData.order.amounts.find((t=>!t.isSystemCurrency))||this.orderData.order.amounts[0]},...(0,i.rn)({orderData:t=>t.orderReturn.orderData,orderReturnItems:t=>t.orderReturn.orderReturnItems,isDisabled:t=>0===t.orderReturn.orderReturnItems.length,showNetPrices:t=>t.basket.showNetPrices})},methods:{showConfirmationModal(){$(this.$refs.orderReturnConfirmation).modal("show")},sendReturnItems(){this.isLoading=!0,this.sendOrderReturn().then((t=>{a.default.success(this.$translate("Ceres::Template.returnConfirmationInfo")).closeAfter(3e3),$(this.$refs.orderReturnConfirmation).modal("hide"),this.$store.getters.isLoggedIn?(0,n.T8)(App.urls.myAccount):(0,n.T8)(App.urls.confirmation)}),(t=>{this.isLoading=!1,$(this.$refs.orderReturnConfirmation).modal("hide")}))},selectAllItems(){vueEventHub.$emit("select-all-items")},...(0,i.OI)(["updateOrderReturnNote"]),...(0,i.nv)(["sendOrderReturn"])}},c=(0,u.Z)(d,s,[],!1,null,null,null);c.options.__file="resources/js/src/app/components/orderReturn/OrderReturn.vue";var v=c.exports},6717:function(t,e,r){r.d(e,{Z:function(){return n}});var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.setComponents.length>0?r("div",{staticClass:"set-data small"},[r("div",{staticClass:"mb-2"},[r("strong",[t._v(t._s(t.$translate("Ceres::Template.itemSetContent")))])]),t._v(" "),t._l(t.setComponents,(function(e){return[r("set-component-item",{attrs:{variation:t.variations[e.itemVariationId],quantity:e.quantity,"order-properties":e.orderProperties}})]}))],2):t._e()};s._withStripped=!0;var a={name:"order-return-set-component-list",components:{SetComponentItem:r(8496).Z},props:{setComponents:{type:Array,default:()=>[]},variations:{type:Object,default:()=>{}}}},i=(0,r(1900).Z)(a,s,[],!1,null,null,null);i.options.__file="resources/js/src/app/components/orderReturn/OrderReturnSetComponentList.vue";var n=i.exports},9430:function(t,e,r){r.d(e,{Z:function(){return i}});const s=["btn-sm","btn-lg"],a={sm:"btn-sm",md:"",lg:"btn-lg"},i={props:{buttonSize:{type:[String,null],default:null,validator:t=>-1!==["",...s,...Object.keys(a)].indexOf(t)}},computed:{buttonSizeClass(){return a.hasOwnProperty(this.buttonSize)?a[this.buttonSize]:this.buttonSize}}}}}]);
//# sourceMappingURL=ceres-32.min.js.map