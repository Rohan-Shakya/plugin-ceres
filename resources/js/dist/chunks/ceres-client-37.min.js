"use strict";(self.webpackChunkCeres=self.webpackChunkCeres||[]).push([[37],{6211:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "default": function() { return /* binding */ ItemImageCarousel; }\n});\n\n;// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./resources/js/src/app/components/item/ItemImageCarousel.vue?vue&type=template&id=5285279e&\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    "div",\n    { attrs: { itemscope: "", itemtype: "http://schema.org/Thing" } },\n    [\n      [\n        _c(\n          "div",\n          {\n            ref: "single",\n            staticClass:\n              "single-carousel owl-carousel owl-theme owl-single-item mt-0",\n          },\n          _vm._l(_vm.singleImages, function (image) {\n            return _c("div", { staticClass: "prop-1-1" }, [\n              _c(\n                "a",\n                {\n                  attrs: {\n                    href: image.url,\n                    "data-lightbox": "single-item-image" + _vm._uid,\n                  },\n                },\n                [\n                  _c("img", {\n                    staticClass: "owl-lazy",\n                    attrs: {\n                      "data-src": image.url,\n                      alt: _vm.getAltText(image),\n                      title: _vm.getImageName(image),\n                    },\n                  }),\n                ]\n              ),\n            ])\n          }),\n          0\n        ),\n        _vm._v(" "),\n        _vm.showThumbs\n          ? _c(\n              "div",\n              {\n                ref: "thumbs",\n                staticClass:\n                  "owl-thumbs owl-carousel owl-theme owl-single-item",\n                attrs: { id: "thumb-carousel" },\n              },\n              _vm._l(_vm.carouselImages, function (imagePreview, index) {\n                return _c("div", { staticClass: "prop-1-1" }, [\n                  _c(\n                    "div",\n                    {\n                      staticClass: "image-container",\n                      on: {\n                        click: function ($event) {\n                          return _vm.goTo(index)\n                        },\n                      },\n                    },\n                    [\n                      _c("lazy-img", {\n                        class: { active: _vm.currentItem === index },\n                        attrs: {\n                          "picture-class": "owl-thumb border-appearance",\n                          "image-url": imagePreview.url,\n                          alt: _vm.getAltText(imagePreview),\n                          title: _vm.getImageName(imagePreview),\n                        },\n                      }),\n                    ],\n                    1\n                  ),\n                ])\n              }),\n              0\n            )\n          : _vm._e(),\n      ],\n      _vm._v(" "),\n      !_vm.initialized\n        ? _c(\n            "div",\n            {\n              staticClass:\n                "single-carousel owl-carousel owl-loaded owl-theme owl-single-item mt-0",\n            },\n            [\n              _c("div", { staticClass: "prop-1-1" }, [\n                _c("img", {\n                  staticClass: "owl-placeholder",\n                  attrs: {\n                    src: _vm.singleImages[0].url,\n                    alt: _vm.getAltText(_vm.singleImages[0].url),\n                    title: _vm.getImageName(_vm.singleImages[0].url),\n                  },\n                }),\n              ]),\n            ]\n          )\n        : _vm._e(),\n    ],\n    2\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\n\n;// CONCATENATED MODULE: ./resources/js/src/app/components/item/ItemImageCarousel.vue?vue&type=template&id=5285279e&\n\n// EXTERNAL MODULE: ./resources/js/src/app/helper/utils.js\nvar utils = __webpack_require__(1023);\n;// CONCATENATED MODULE: ./node_modules/vue-loader/lib/index.js??vue-loader-options!./resources/js/src/app/components/item/ItemImageCarousel.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ var ItemImageCarouselvue_type_script_lang_js_ = ({\n    name: "item-image-carousel",\n\n    props: {\n        maxQuantity:\n        {\n            type: Number,\n            default: 10\n        },\n        imageUrlAccessor:\n        {\n            type: String,\n            default: "url"\n        },\n        showThumbs:\n        {\n            type: Boolean,\n            default: true\n        },\n        showDots:\n        {\n            type: Boolean,\n            default: true\n        },\n        animationStyle:\n        {\n            type: String,\n            default: "standard"\n        },\n        pluginPath:\n        {\n            type: String,\n            default: ""\n        }\n    },\n\n    inject: {\n        itemId: {\n            default: null\n        }\n    },\n\n    data()\n    {\n        return {\n            currentItem: 0,\n            initialized: false\n        };\n    },\n\n    computed:\n    {\n        currentVariation()\n        {\n            return this.$store.getters[`${this.itemId}/currentItemVariation`]\n        },\n\n        carouselImages()\n        {\n            return this.$options.filters.itemImages(\n                    this.currentVariation.images,\n                    "urlPreview"\n                ).slice(0, this.maxQuantity);\n        },\n\n        singleImages()\n        {\n            return this.$options.filters.itemImages(\n                    this.currentVariation.images,\n                    this.imageUrlAccessor\n            ).slice(0, this.maxQuantity);\n        }\n    },\n\n    watch: {\n        currentVariation:\n        {\n            handler(val, oldVal)\n            {\n                if (val !== oldVal)\n                {\n                    setTimeout(() =>\n                    {\n                        this.reInitialize();\n                    }, 1);\n                }\n            },\n            deep: true\n        }\n    },\n\n    mounted()\n    {\n        this.$nextTick(() =>\n        {\n            this.loadLightbox().then(() =>\n                {\n                    this.initCarousel();\n                    this.initThumbCarousel();\n                })\n                .catch(event =>\n                {\n                    console.log("error while loading lightbox", event);\n                });\n        });\n    },\n\n    methods:\n    {\n        getImageCount()\n        {\n            return this.carouselImages.length > this.maxQuantity ? this.maxQuantity : this.carouselImages.length;\n        },\n\n        reInitialize()\n        {\n            const $owl = $(this.$refs.single);\n\n            $owl.trigger("destroy.owl.carousel");\n            $owl.html($owl.find(".owl-stage-outer").html()).removeClass("owl-loaded");\n            $owl.find(".owl-item").remove();\n\n            const $thumbs = $(this.$refs.thumbs);\n\n            $thumbs.trigger("destroy.owl.carousel");\n            $thumbs.html($thumbs.find(".owl-stage-outer").html()).removeClass("owl-loaded");\n            $thumbs.find(".owl-item").remove();\n\n            this.initCarousel();\n            this.initThumbCarousel();\n        },\n\n        initCarousel()\n        {\n            const imageCount = this.getImageCount();\n            const carouselSettings = {\n                autoHeight       : true,\n                dots             : this.showDots,\n                items            : 1,\n                lazyLoad         : true,\n                rewind           : true,\n                margin           : 10,\n                mouseDrag        : imageCount > 1,\n                nav              : imageCount > 1,\n                navClass         : [\n                    "owl-single-item-nav left carousel-control",\n                    "owl-single-item-nav right carousel-control"\n                ],\n                navContainerClass: "",\n                navText          : [\n                    "<i class=\\"owl-single-item-control fa fa-chevron-left\\" aria-hidden=\\"true\\"></i>",\n                    "<i class=\\"owl-single-item-control fa fa-chevron-right\\" aria-hidden=\\"true\\"></i>"\n                ],\n                smartSpeed       : 350,\n                onChanged: event =>\n                {\n                    const $thumb = $(this.$refs.thumbs);\n\n                    $thumb.trigger("to.owl.carousel", [\n                        event.page.index,\n                        350\n                    ]);\n                },\n                onInitialized: event =>\n                {\n                    this.initialized = true;\n                }\n            };\n\n            if (this.animationStyle !== "standard")\n            {\n                carouselSettings.animateOut = this.animationStyle;\n            }\n\n            $(this.$refs.single).owlCarousel(carouselSettings);\n\n            if (!(0,utils/* isNullOrUndefined */.le)(window.lightbox))\n            {\n                lightbox.option({\n                    wrapAround: true,\n                    albumLabel: this.$translate("Ceres::Template.singleItemLightboxImageShown")\n                });\n            }\n\n            $(this.$refs.single).on("changed.owl.carousel", event =>\n            {\n                this.currentItem = event.page.index;\n            });\n        },\n\n        initThumbCarousel()\n        {\n            $(this.$refs.thumbs).owlCarousel({\n                autoHeight       : true,\n                dots             : false,\n                items            : 5,\n                lazyLoad         : true,\n                loop             : false,\n                margin           : 10,\n                mouseDrag        : false,\n                center           : false,\n                nav              : true,\n                navClass         : [\n                    "owl-single-item-nav left carousel-control",\n                    "owl-single-item-nav right carousel-control"\n                ],\n                navContainerClass: "",\n                navText          : [\n                    "<i class=\\"owl-single-item-control fa fa-chevron-left\\" aria-hidden=\\"true\\"></i>",\n                    "<i class=\\"owl-single-item-control fa fa-chevron-right\\" aria-hidden=\\"true\\"></i>"\n                ],\n                smartSpeed       : 350\n            });\n        },\n\n        goTo(index)\n        {\n            const $owl = $(this.$refs.single);\n\n            $owl.trigger("to.owl.carousel", [\n                index,\n                350\n            ]);\n        },\n\n        getAltText(image)\n        {\n            return image && image.alternate ? image.alternate : this.$options.filters.itemName(this.currentVariation);\n        },\n\n        getImageName(image)\n        {\n            return image && image.name ? image.name : this.$options.filters.itemName(this.currentVariation);\n        },\n\n        loadLightbox()\n        {\n            return new Promise((resolve, reject) =>\n            {\n                const script = document.querySelector("script#lightboxscript");\n\n                if (!(0,utils/* isNullOrUndefined */.le)(script))\n                {\n                    resolve();\n                }\n                else\n                {\n                    const script = document.createElement("script");\n\n                    script.type = "text/javascript";\n                    script.id = "lightboxscript";\n                    script.src = `${ this.pluginPath }/js/dist/lightbox.min.js`;\n\n                    script.addEventListener("load", () => resolve(), false);\n                    script.addEventListener("error", event => reject(event), false);\n\n                    document.body.appendChild(script);\n                }\n            });\n        }\n    }\n});\n\n;// CONCATENATED MODULE: ./resources/js/src/app/components/item/ItemImageCarousel.vue?vue&type=script&lang=js&\n /* harmony default export */ var item_ItemImageCarouselvue_type_script_lang_js_ = (ItemImageCarouselvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__(1900);\n;// CONCATENATED MODULE: ./resources/js/src/app/components/item/ItemImageCarousel.vue\n\n\n\n\n\n/* normalize component */\n;\nvar component = (0,componentNormalizer/* default */.Z)(\n  item_ItemImageCarouselvue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (false) { var api; }\ncomponent.options.__file = "resources/js/src/app/components/item/ItemImageCarousel.vue"\n/* harmony default export */ var ItemImageCarousel = (component.exports);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjIxMS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLFNBQVMsc0RBQXNEO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSwrQkFBK0IseUJBQXlCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixzQkFBc0I7QUFDL0MsZUFBZTtBQUNmO0FBQ0EsbUNBQW1DLHlCQUF5QjtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6Qix1QkFBdUI7QUFDdkIscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxpQ0FBaUMsbUNBQW1DO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSwwQkFBMEIseUJBQXlCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUV2RXVEOztBQUV2RCw4RUFBZTtBQUNmOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxpQkFBaUIsbUNBQWlCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHFCQUFxQixtQ0FBaUI7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7QUM3UytJLENBQUMsbUZBQWUseUNBQUcsRUFBQyxDOzs7O0FDQXBFO0FBQzNCO0FBQ0w7OztBQUdoRTtBQUNBLENBQXNHO0FBQ3RHLGdCQUFnQixzQ0FBVTtBQUMxQixFQUFFLDhDQUFNO0FBQ1IsRUFBRSxNQUFNO0FBQ1IsRUFBRSxlQUFlO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUksS0FBVSxFQUFFLFlBaUJmO0FBQ0Q7QUFDQSxzREFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL0NlcmVzLy4vcmVzb3VyY2VzL2pzL3NyYy9hcHAvY29tcG9uZW50cy9pdGVtL0l0ZW1JbWFnZUNhcm91c2VsLnZ1ZT9kZjQ4Iiwid2VicGFjazovL0NlcmVzLy4vcmVzb3VyY2VzL2pzL3NyYy9hcHAvY29tcG9uZW50cy9pdGVtL0l0ZW1JbWFnZUNhcm91c2VsLnZ1ZT9iOWM2Iiwid2VicGFjazovL0NlcmVzL3Jlc291cmNlcy9qcy9zcmMvYXBwL2NvbXBvbmVudHMvaXRlbS9JdGVtSW1hZ2VDYXJvdXNlbC52dWU/OWY2NiIsIndlYnBhY2s6Ly9DZXJlcy8uL3Jlc291cmNlcy9qcy9zcmMvYXBwL2NvbXBvbmVudHMvaXRlbS9JdGVtSW1hZ2VDYXJvdXNlbC52dWU/YTc2OCIsIndlYnBhY2s6Ly9DZXJlcy8uL3Jlc291cmNlcy9qcy9zcmMvYXBwL2NvbXBvbmVudHMvaXRlbS9JdGVtSW1hZ2VDYXJvdXNlbC52dWU/NDU5OCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcbiAgICBcImRpdlwiLFxuICAgIHsgYXR0cnM6IHsgaXRlbXNjb3BlOiBcIlwiLCBpdGVtdHlwZTogXCJodHRwOi8vc2NoZW1hLm9yZy9UaGluZ1wiIH0gfSxcbiAgICBbXG4gICAgICBbXG4gICAgICAgIF9jKFxuICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgcmVmOiBcInNpbmdsZVwiLFxuICAgICAgICAgICAgc3RhdGljQ2xhc3M6XG4gICAgICAgICAgICAgIFwic2luZ2xlLWNhcm91c2VsIG93bC1jYXJvdXNlbCBvd2wtdGhlbWUgb3dsLXNpbmdsZS1pdGVtIG10LTBcIixcbiAgICAgICAgICB9LFxuICAgICAgICAgIF92bS5fbChfdm0uc2luZ2xlSW1hZ2VzLCBmdW5jdGlvbiAoaW1hZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcInByb3AtMS0xXCIgfSwgW1xuICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICBcImFcIixcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICBocmVmOiBpbWFnZS51cmwsXG4gICAgICAgICAgICAgICAgICAgIFwiZGF0YS1saWdodGJveFwiOiBcInNpbmdsZS1pdGVtLWltYWdlXCIgKyBfdm0uX3VpZCxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICBfYyhcImltZ1wiLCB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcIm93bC1sYXp5XCIsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgXCJkYXRhLXNyY1wiOiBpbWFnZS51cmwsXG4gICAgICAgICAgICAgICAgICAgICAgYWx0OiBfdm0uZ2V0QWx0VGV4dChpbWFnZSksXG4gICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IF92bS5nZXRJbWFnZU5hbWUoaW1hZ2UpLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgXSlcbiAgICAgICAgICB9KSxcbiAgICAgICAgICAwXG4gICAgICAgICksXG4gICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgIF92bS5zaG93VGh1bWJzXG4gICAgICAgICAgPyBfYyhcbiAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJlZjogXCJ0aHVtYnNcIixcbiAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczpcbiAgICAgICAgICAgICAgICAgIFwib3dsLXRodW1icyBvd2wtY2Fyb3VzZWwgb3dsLXRoZW1lIG93bC1zaW5nbGUtaXRlbVwiLFxuICAgICAgICAgICAgICAgIGF0dHJzOiB7IGlkOiBcInRodW1iLWNhcm91c2VsXCIgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgX3ZtLl9sKF92bS5jYXJvdXNlbEltYWdlcywgZnVuY3Rpb24gKGltYWdlUHJldmlldywgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJwcm9wLTEtMVwiIH0sIFtcbiAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiaW1hZ2UtY29udGFpbmVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0uZ29UbyhpbmRleClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgIF9jKFwibGF6eS1pbWdcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IHsgYWN0aXZlOiBfdm0uY3VycmVudEl0ZW0gPT09IGluZGV4IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBcInBpY3R1cmUtY2xhc3NcIjogXCJvd2wtdGh1bWIgYm9yZGVyLWFwcGVhcmFuY2VcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJpbWFnZS11cmxcIjogaW1hZ2VQcmV2aWV3LnVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0OiBfdm0uZ2V0QWx0VGV4dChpbWFnZVByZXZpZXcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogX3ZtLmdldEltYWdlTmFtZShpbWFnZVByZXZpZXcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgKVxuICAgICAgICAgIDogX3ZtLl9lKCksXG4gICAgICBdLFxuICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICFfdm0uaW5pdGlhbGl6ZWRcbiAgICAgICAgPyBfYyhcbiAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHN0YXRpY0NsYXNzOlxuICAgICAgICAgICAgICAgIFwic2luZ2xlLWNhcm91c2VsIG93bC1jYXJvdXNlbCBvd2wtbG9hZGVkIG93bC10aGVtZSBvd2wtc2luZ2xlLWl0ZW0gbXQtMFwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJwcm9wLTEtMVwiIH0sIFtcbiAgICAgICAgICAgICAgICBfYyhcImltZ1wiLCB7XG4gICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJvd2wtcGxhY2Vob2xkZXJcIixcbiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgIHNyYzogX3ZtLnNpbmdsZUltYWdlc1swXS51cmwsXG4gICAgICAgICAgICAgICAgICAgIGFsdDogX3ZtLmdldEFsdFRleHQoX3ZtLnNpbmdsZUltYWdlc1swXS51cmwpLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogX3ZtLmdldEltYWdlTmFtZShfdm0uc2luZ2xlSW1hZ2VzWzBdLnVybCksXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIF1cbiAgICAgICAgICApXG4gICAgICAgIDogX3ZtLl9lKCksXG4gICAgXSxcbiAgICAyXG4gIClcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy90ZW1wbGF0ZUxvYWRlci5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vSXRlbUltYWdlQ2Fyb3VzZWwudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTUyODUyNzllJlwiIiwiPHRlbXBsYXRlPlxuICAgIDxkaXYgaXRlbXNjb3BlIGl0ZW10eXBlPVwiaHR0cDovL3NjaGVtYS5vcmcvVGhpbmdcIj5cbiAgICAgICAgPHRlbXBsYXRlPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNpbmdsZS1jYXJvdXNlbCBvd2wtY2Fyb3VzZWwgb3dsLXRoZW1lIG93bC1zaW5nbGUtaXRlbSBtdC0wXCIgcmVmPVwic2luZ2xlXCI+XG4gICAgICAgICAgICAgICAgPGRpdiB2LWZvcj1cImltYWdlIGluIHNpbmdsZUltYWdlc1wiIGNsYXNzPVwicHJvcC0xLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgPGEgOmhyZWY9XCJpbWFnZS51cmxcIiA6ZGF0YS1saWdodGJveD1cIidzaW5nbGUtaXRlbS1pbWFnZScgKyBfdWlkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIGNsYXNzPVwib3dsLWxhenlcIiA6ZGF0YS1zcmM9XCJpbWFnZS51cmxcIiA6YWx0PVwiZ2V0QWx0VGV4dChpbWFnZSlcIiA6dGl0bGU9XCJnZXRJbWFnZU5hbWUoaW1hZ2UpXCI+XG4gICAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiB2LWlmPVwic2hvd1RodW1ic1wiIGlkPVwidGh1bWItY2Fyb3VzZWxcIiBjbGFzcz1cIm93bC10aHVtYnMgb3dsLWNhcm91c2VsIG93bC10aGVtZSBvd2wtc2luZ2xlLWl0ZW1cIiByZWY9XCJ0aHVtYnNcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvcC0xLTFcIiB2LWZvcj1cIihpbWFnZVByZXZpZXcsIGluZGV4KSBpbiBjYXJvdXNlbEltYWdlc1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW1hZ2UtY29udGFpbmVyXCIgQGNsaWNrPVwiZ29UbyhpbmRleClcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYXp5LWltZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpY3R1cmUtY2xhc3M9XCJvd2wtdGh1bWIgYm9yZGVyLWFwcGVhcmFuY2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYtYmluZDpjbGFzcz1cInsgJ2FjdGl2ZSc6IGN1cnJlbnRJdGVtID09PSBpbmRleH1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDppbWFnZS11cmw9XCJpbWFnZVByZXZpZXcudXJsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6YWx0PVwiZ2V0QWx0VGV4dChpbWFnZVByZXZpZXcpXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6dGl0bGU9XCJnZXRJbWFnZU5hbWUoaW1hZ2VQcmV2aWV3KVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9sYXp5LWltZz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC90ZW1wbGF0ZT5cbiAgICAgICAgPGRpdiB2LWlmPVwiIWluaXRpYWxpemVkXCIgY2xhc3M9XCJzaW5nbGUtY2Fyb3VzZWwgb3dsLWNhcm91c2VsIG93bC1sb2FkZWQgb3dsLXRoZW1lIG93bC1zaW5nbGUtaXRlbSBtdC0wXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvcC0xLTFcIj5cbiAgICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwib3dsLXBsYWNlaG9sZGVyXCJcbiAgICAgICAgICAgICAgICAgICAgOnNyYz1cInNpbmdsZUltYWdlc1swXS51cmxcIlxuICAgICAgICAgICAgICAgICAgICA6YWx0PVwiZ2V0QWx0VGV4dChzaW5nbGVJbWFnZXNbMF0udXJsKVwiXG4gICAgICAgICAgICAgICAgICAgIDp0aXRsZT1cImdldEltYWdlTmFtZShzaW5nbGVJbWFnZXNbMF0udXJsKVwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdD5cbmltcG9ydCB7IGlzTnVsbE9yVW5kZWZpbmVkIH0gZnJvbSBcIi4uLy4uL2hlbHBlci91dGlsc1wiO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgbmFtZTogXCJpdGVtLWltYWdlLWNhcm91c2VsXCIsXG5cbiAgICBwcm9wczoge1xuICAgICAgICBtYXhRdWFudGl0eTpcbiAgICAgICAge1xuICAgICAgICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgICAgICAgZGVmYXVsdDogMTBcbiAgICAgICAgfSxcbiAgICAgICAgaW1hZ2VVcmxBY2Nlc3NvcjpcbiAgICAgICAge1xuICAgICAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICAgICAgZGVmYXVsdDogXCJ1cmxcIlxuICAgICAgICB9LFxuICAgICAgICBzaG93VGh1bWJzOlxuICAgICAgICB7XG4gICAgICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICAgICAgZGVmYXVsdDogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBzaG93RG90czpcbiAgICAgICAge1xuICAgICAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgICAgIGRlZmF1bHQ6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgYW5pbWF0aW9uU3R5bGU6XG4gICAgICAgIHtcbiAgICAgICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgICAgIGRlZmF1bHQ6IFwic3RhbmRhcmRcIlxuICAgICAgICB9LFxuICAgICAgICBwbHVnaW5QYXRoOlxuICAgICAgICB7XG4gICAgICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgICAgICBkZWZhdWx0OiBcIlwiXG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgaW5qZWN0OiB7XG4gICAgICAgIGl0ZW1JZDoge1xuICAgICAgICAgICAgZGVmYXVsdDogbnVsbFxuICAgICAgICB9XG4gICAgfSxcblxuICAgIGRhdGEoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGN1cnJlbnRJdGVtOiAwLFxuICAgICAgICAgICAgaW5pdGlhbGl6ZWQ6IGZhbHNlXG4gICAgICAgIH07XG4gICAgfSxcblxuICAgIGNvbXB1dGVkOlxuICAgIHtcbiAgICAgICAgY3VycmVudFZhcmlhdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzW2Ake3RoaXMuaXRlbUlkfS9jdXJyZW50SXRlbVZhcmlhdGlvbmBdXG4gICAgICAgIH0sXG5cbiAgICAgICAgY2Fyb3VzZWxJbWFnZXMoKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy4kb3B0aW9ucy5maWx0ZXJzLml0ZW1JbWFnZXMoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFZhcmlhdGlvbi5pbWFnZXMsXG4gICAgICAgICAgICAgICAgICAgIFwidXJsUHJldmlld1wiXG4gICAgICAgICAgICAgICAgKS5zbGljZSgwLCB0aGlzLm1heFF1YW50aXR5KTtcbiAgICAgICAgfSxcblxuICAgICAgICBzaW5nbGVJbWFnZXMoKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy4kb3B0aW9ucy5maWx0ZXJzLml0ZW1JbWFnZXMoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFZhcmlhdGlvbi5pbWFnZXMsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VVcmxBY2Nlc3NvclxuICAgICAgICAgICAgKS5zbGljZSgwLCB0aGlzLm1heFF1YW50aXR5KTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICB3YXRjaDoge1xuICAgICAgICBjdXJyZW50VmFyaWF0aW9uOlxuICAgICAgICB7XG4gICAgICAgICAgICBoYW5kbGVyKHZhbCwgb2xkVmFsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh2YWwgIT09IG9sZFZhbClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT5cbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZUluaXRpYWxpemUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlZXA6IHRydWVcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBtb3VudGVkKClcbiAgICB7XG4gICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubG9hZExpZ2h0Ym94KCkudGhlbigoKSA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbml0Q2Fyb3VzZWwoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbml0VGh1bWJDYXJvdXNlbCgpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGV2ZW50ID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImVycm9yIHdoaWxlIGxvYWRpbmcgbGlnaHRib3hcIiwgZXZlbnQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgbWV0aG9kczpcbiAgICB7XG4gICAgICAgIGdldEltYWdlQ291bnQoKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jYXJvdXNlbEltYWdlcy5sZW5ndGggPiB0aGlzLm1heFF1YW50aXR5ID8gdGhpcy5tYXhRdWFudGl0eSA6IHRoaXMuY2Fyb3VzZWxJbWFnZXMubGVuZ3RoO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlSW5pdGlhbGl6ZSgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0ICRvd2wgPSAkKHRoaXMuJHJlZnMuc2luZ2xlKTtcblxuICAgICAgICAgICAgJG93bC50cmlnZ2VyKFwiZGVzdHJveS5vd2wuY2Fyb3VzZWxcIik7XG4gICAgICAgICAgICAkb3dsLmh0bWwoJG93bC5maW5kKFwiLm93bC1zdGFnZS1vdXRlclwiKS5odG1sKCkpLnJlbW92ZUNsYXNzKFwib3dsLWxvYWRlZFwiKTtcbiAgICAgICAgICAgICRvd2wuZmluZChcIi5vd2wtaXRlbVwiKS5yZW1vdmUoKTtcblxuICAgICAgICAgICAgY29uc3QgJHRodW1icyA9ICQodGhpcy4kcmVmcy50aHVtYnMpO1xuXG4gICAgICAgICAgICAkdGh1bWJzLnRyaWdnZXIoXCJkZXN0cm95Lm93bC5jYXJvdXNlbFwiKTtcbiAgICAgICAgICAgICR0aHVtYnMuaHRtbCgkdGh1bWJzLmZpbmQoXCIub3dsLXN0YWdlLW91dGVyXCIpLmh0bWwoKSkucmVtb3ZlQ2xhc3MoXCJvd2wtbG9hZGVkXCIpO1xuICAgICAgICAgICAgJHRodW1icy5maW5kKFwiLm93bC1pdGVtXCIpLnJlbW92ZSgpO1xuXG4gICAgICAgICAgICB0aGlzLmluaXRDYXJvdXNlbCgpO1xuICAgICAgICAgICAgdGhpcy5pbml0VGh1bWJDYXJvdXNlbCgpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGluaXRDYXJvdXNlbCgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGltYWdlQ291bnQgPSB0aGlzLmdldEltYWdlQ291bnQoKTtcbiAgICAgICAgICAgIGNvbnN0IGNhcm91c2VsU2V0dGluZ3MgPSB7XG4gICAgICAgICAgICAgICAgYXV0b0hlaWdodCAgICAgICA6IHRydWUsXG4gICAgICAgICAgICAgICAgZG90cyAgICAgICAgICAgICA6IHRoaXMuc2hvd0RvdHMsXG4gICAgICAgICAgICAgICAgaXRlbXMgICAgICAgICAgICA6IDEsXG4gICAgICAgICAgICAgICAgbGF6eUxvYWQgICAgICAgICA6IHRydWUsXG4gICAgICAgICAgICAgICAgcmV3aW5kICAgICAgICAgICA6IHRydWUsXG4gICAgICAgICAgICAgICAgbWFyZ2luICAgICAgICAgICA6IDEwLFxuICAgICAgICAgICAgICAgIG1vdXNlRHJhZyAgICAgICAgOiBpbWFnZUNvdW50ID4gMSxcbiAgICAgICAgICAgICAgICBuYXYgICAgICAgICAgICAgIDogaW1hZ2VDb3VudCA+IDEsXG4gICAgICAgICAgICAgICAgbmF2Q2xhc3MgICAgICAgICA6IFtcbiAgICAgICAgICAgICAgICAgICAgXCJvd2wtc2luZ2xlLWl0ZW0tbmF2IGxlZnQgY2Fyb3VzZWwtY29udHJvbFwiLFxuICAgICAgICAgICAgICAgICAgICBcIm93bC1zaW5nbGUtaXRlbS1uYXYgcmlnaHQgY2Fyb3VzZWwtY29udHJvbFwiXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBuYXZDb250YWluZXJDbGFzczogXCJcIixcbiAgICAgICAgICAgICAgICBuYXZUZXh0ICAgICAgICAgIDogW1xuICAgICAgICAgICAgICAgICAgICBcIjxpIGNsYXNzPVxcXCJvd2wtc2luZ2xlLWl0ZW0tY29udHJvbCBmYSBmYS1jaGV2cm9uLWxlZnRcXFwiIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIj48L2k+XCIsXG4gICAgICAgICAgICAgICAgICAgIFwiPGkgY2xhc3M9XFxcIm93bC1zaW5nbGUtaXRlbS1jb250cm9sIGZhIGZhLWNoZXZyb24tcmlnaHRcXFwiIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIj48L2k+XCJcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIHNtYXJ0U3BlZWQgICAgICAgOiAzNTAsXG4gICAgICAgICAgICAgICAgb25DaGFuZ2VkOiBldmVudCA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgJHRodW1iID0gJCh0aGlzLiRyZWZzLnRodW1icyk7XG5cbiAgICAgICAgICAgICAgICAgICAgJHRodW1iLnRyaWdnZXIoXCJ0by5vd2wuY2Fyb3VzZWxcIiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucGFnZS5pbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgIDM1MFxuICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uSW5pdGlhbGl6ZWQ6IGV2ZW50ID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TdHlsZSAhPT0gXCJzdGFuZGFyZFwiKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNhcm91c2VsU2V0dGluZ3MuYW5pbWF0ZU91dCA9IHRoaXMuYW5pbWF0aW9uU3R5bGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICQodGhpcy4kcmVmcy5zaW5nbGUpLm93bENhcm91c2VsKGNhcm91c2VsU2V0dGluZ3MpO1xuXG4gICAgICAgICAgICBpZiAoIWlzTnVsbE9yVW5kZWZpbmVkKHdpbmRvdy5saWdodGJveCkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGlnaHRib3gub3B0aW9uKHtcbiAgICAgICAgICAgICAgICAgICAgd3JhcEFyb3VuZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgYWxidW1MYWJlbDogdGhpcy4kdHJhbnNsYXRlKFwiQ2VyZXM6OlRlbXBsYXRlLnNpbmdsZUl0ZW1MaWdodGJveEltYWdlU2hvd25cIilcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJCh0aGlzLiRyZWZzLnNpbmdsZSkub24oXCJjaGFuZ2VkLm93bC5jYXJvdXNlbFwiLCBldmVudCA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEl0ZW0gPSBldmVudC5wYWdlLmluZGV4O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgaW5pdFRodW1iQ2Fyb3VzZWwoKVxuICAgICAgICB7XG4gICAgICAgICAgICAkKHRoaXMuJHJlZnMudGh1bWJzKS5vd2xDYXJvdXNlbCh7XG4gICAgICAgICAgICAgICAgYXV0b0hlaWdodCAgICAgICA6IHRydWUsXG4gICAgICAgICAgICAgICAgZG90cyAgICAgICAgICAgICA6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGl0ZW1zICAgICAgICAgICAgOiA1LFxuICAgICAgICAgICAgICAgIGxhenlMb2FkICAgICAgICAgOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxvb3AgICAgICAgICAgICAgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBtYXJnaW4gICAgICAgICAgIDogMTAsXG4gICAgICAgICAgICAgICAgbW91c2VEcmFnICAgICAgICA6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNlbnRlciAgICAgICAgICAgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuYXYgICAgICAgICAgICAgIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYXZDbGFzcyAgICAgICAgIDogW1xuICAgICAgICAgICAgICAgICAgICBcIm93bC1zaW5nbGUtaXRlbS1uYXYgbGVmdCBjYXJvdXNlbC1jb250cm9sXCIsXG4gICAgICAgICAgICAgICAgICAgIFwib3dsLXNpbmdsZS1pdGVtLW5hdiByaWdodCBjYXJvdXNlbC1jb250cm9sXCJcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIG5hdkNvbnRhaW5lckNsYXNzOiBcIlwiLFxuICAgICAgICAgICAgICAgIG5hdlRleHQgICAgICAgICAgOiBbXG4gICAgICAgICAgICAgICAgICAgIFwiPGkgY2xhc3M9XFxcIm93bC1zaW5nbGUtaXRlbS1jb250cm9sIGZhIGZhLWNoZXZyb24tbGVmdFxcXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiPjwvaT5cIixcbiAgICAgICAgICAgICAgICAgICAgXCI8aSBjbGFzcz1cXFwib3dsLXNpbmdsZS1pdGVtLWNvbnRyb2wgZmEgZmEtY2hldnJvbi1yaWdodFxcXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiPjwvaT5cIlxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgc21hcnRTcGVlZCAgICAgICA6IDM1MFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ29UbyhpbmRleClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgJG93bCA9ICQodGhpcy4kcmVmcy5zaW5nbGUpO1xuXG4gICAgICAgICAgICAkb3dsLnRyaWdnZXIoXCJ0by5vd2wuY2Fyb3VzZWxcIiwgW1xuICAgICAgICAgICAgICAgIGluZGV4LFxuICAgICAgICAgICAgICAgIDM1MFxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0QWx0VGV4dChpbWFnZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIGltYWdlICYmIGltYWdlLmFsdGVybmF0ZSA/IGltYWdlLmFsdGVybmF0ZSA6IHRoaXMuJG9wdGlvbnMuZmlsdGVycy5pdGVtTmFtZSh0aGlzLmN1cnJlbnRWYXJpYXRpb24pO1xuICAgICAgICB9LFxuXG4gICAgICAgIGdldEltYWdlTmFtZShpbWFnZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIGltYWdlICYmIGltYWdlLm5hbWUgPyBpbWFnZS5uYW1lIDogdGhpcy4kb3B0aW9ucy5maWx0ZXJzLml0ZW1OYW1lKHRoaXMuY3VycmVudFZhcmlhdGlvbik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgbG9hZExpZ2h0Ym94KClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcInNjcmlwdCNsaWdodGJveHNjcmlwdFwiKTtcblxuICAgICAgICAgICAgICAgIGlmICghaXNOdWxsT3JVbmRlZmluZWQoc2NyaXB0KSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcblxuICAgICAgICAgICAgICAgICAgICBzY3JpcHQudHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI7XG4gICAgICAgICAgICAgICAgICAgIHNjcmlwdC5pZCA9IFwibGlnaHRib3hzY3JpcHRcIjtcbiAgICAgICAgICAgICAgICAgICAgc2NyaXB0LnNyYyA9IGAkeyB0aGlzLnBsdWdpblBhdGggfS9qcy9kaXN0L2xpZ2h0Ym94Lm1pbi5qc2A7XG5cbiAgICAgICAgICAgICAgICAgICAgc2NyaXB0LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsICgpID0+IHJlc29sdmUoKSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBzY3JpcHQuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIGV2ZW50ID0+IHJlamVjdChldmVudCksIGZhbHNlKTtcblxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG48L3NjcmlwdD5cbiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9JdGVtSW1hZ2VDYXJvdXNlbC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9JdGVtSW1hZ2VDYXJvdXNlbC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCIiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL0l0ZW1JbWFnZUNhcm91c2VsLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD01Mjg1Mjc5ZSZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9JdGVtSW1hZ2VDYXJvdXNlbC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL0l0ZW1JbWFnZUNhcm91c2VsLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL1VzZXJzL2x1a2FzbWF0emVuL3dvcmtzcGFjZTIvcGx1Z2lucy9DZXJlcy9ub2RlX21vZHVsZXMvdnVlLWhvdC1yZWxvYWQtYXBpL2Rpc3QvaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCc1Mjg1Mjc5ZScpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCc1Mjg1Mjc5ZScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCc1Mjg1Mjc5ZScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vSXRlbUltYWdlQ2Fyb3VzZWwudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTUyODUyNzllJlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJzUyODUyNzllJywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJyZXNvdXJjZXMvanMvc3JjL2FwcC9jb21wb25lbnRzL2l0ZW0vSXRlbUltYWdlQ2Fyb3VzZWwudnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///6211\n')}}]);