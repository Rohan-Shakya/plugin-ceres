"use strict";(self.webpackChunkCeres=self.webpackChunkCeres||[]).push([[50],{9811:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "default": function() { return /* binding */ ItemImageCarousel; }\n});\n\n;// CONCATENATED MODULE: ./node_modules/babel-loader/lib/index.js??clonedRuleSet-2.use!./node_modules/vue-loader/lib/loaders/templateLoader.js??ruleSet[1].rules[2]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./resources/js/src/app/components/item/ItemImageCarousel.vue?vue&type=template&id=d4884ff0&\nvar render = function render() {\n  var _vm = this,\n    _c = _vm._self._c;\n  return _c("div", {\n    attrs: {\n      itemscope: "",\n      itemtype: "http://schema.org/Thing"\n    }\n  }, [[_c("div", {\n    ref: "single",\n    staticClass: "single-carousel owl-carousel owl-theme owl-single-item mt-0"\n  }, _vm._l(_vm.singleImages, function (image) {\n    return _c("div", {\n      staticClass: "prop-1-1"\n    }, [_c("a", {\n      attrs: {\n        href: image.url,\n        "data-lightbox": "single-item-image" + _vm._uid\n      }\n    }, [_c("img", {\n      staticClass: "owl-lazy",\n      attrs: {\n        "data-src": image.url,\n        alt: _vm.getAltText(image),\n        title: _vm.getImageName(image)\n      }\n    })])]);\n  }), 0), _vm._v(" "), _vm.showThumbs ? _c("div", {\n    ref: "thumbs",\n    staticClass: "owl-thumbs owl-carousel owl-theme owl-single-item",\n    attrs: {\n      id: "thumb-carousel"\n    }\n  }, _vm._l(_vm.carouselImages, function (imagePreview, index) {\n    return _c("div", {\n      staticClass: "prop-1-1"\n    }, [_c("div", {\n      staticClass: "image-container",\n      on: {\n        click: function click($event) {\n          return _vm.goTo(index);\n        }\n      }\n    }, [_c("lazy-img", {\n      class: {\n        active: _vm.currentItem === index\n      },\n      attrs: {\n        "picture-class": "owl-thumb border-appearance",\n        "image-url": imagePreview.url,\n        alt: _vm.getAltText(imagePreview),\n        title: _vm.getImageName(imagePreview)\n      }\n    })], 1)]);\n  }), 0) : _vm._e()], _vm._v(" "), !_vm.initialized ? _c("div", {\n    staticClass: "single-carousel owl-carousel owl-loaded owl-theme owl-single-item mt-0"\n  }, [_c("div", {\n    staticClass: "prop-1-1"\n  }, [_c("img", {\n    staticClass: "owl-placeholder",\n    attrs: {\n      src: _vm.singleImages[0].url,\n      alt: _vm.getAltText(_vm.singleImages[0].url),\n      title: _vm.getImageName(_vm.singleImages[0].url)\n    }\n  })])]) : _vm._e()], 2);\n};\nvar staticRenderFns = [];\nrender._withStripped = true;\n\n;// CONCATENATED MODULE: ./resources/js/src/app/components/item/ItemImageCarousel.vue?vue&type=template&id=d4884ff0&\n\n// EXTERNAL MODULE: ./resources/js/src/app/helper/utils.js\nvar utils = __webpack_require__(9413);\n;// CONCATENATED MODULE: ./node_modules/babel-loader/lib/index.js??clonedRuleSet-2.use!./node_modules/vue-loader/lib/index.js??vue-loader-options!./resources/js/src/app/components/item/ItemImageCarousel.vue?vue&type=script&lang=js&\n\n/* harmony default export */ var ItemImageCarouselvue_type_script_lang_js_ = ({\n  name: "item-image-carousel",\n  props: {\n    maxQuantity: {\n      type: Number,\n      default: 10\n    },\n    imageUrlAccessor: {\n      type: String,\n      default: "url"\n    },\n    showThumbs: {\n      type: Boolean,\n      default: true\n    },\n    showDots: {\n      type: Boolean,\n      default: true\n    },\n    animationStyle: {\n      type: String,\n      default: "standard"\n    },\n    pluginPath: {\n      type: String,\n      default: ""\n    }\n  },\n  inject: {\n    itemId: {\n      default: null\n    }\n  },\n  data: function data() {\n    return {\n      currentItem: 0,\n      initialized: false\n    };\n  },\n  computed: {\n    currentVariation: function currentVariation() {\n      return this.$store.getters["".concat(this.itemId, "/currentItemVariation")];\n    },\n    carouselImages: function carouselImages() {\n      return this.$options.filters.itemImages(this.currentVariation.images, "urlPreview").slice(0, this.maxQuantity);\n    },\n    singleImages: function singleImages() {\n      return this.$options.filters.itemImages(this.currentVariation.images, this.imageUrlAccessor).slice(0, this.maxQuantity);\n    }\n  },\n  watch: {\n    currentVariation: {\n      handler: function handler(val, oldVal) {\n        var _this = this;\n        if (val !== oldVal) {\n          setTimeout(function () {\n            _this.reInitialize();\n          }, 1);\n        }\n      },\n      deep: true\n    }\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n    this.$nextTick(function () {\n      _this2.loadLightbox().then(function () {\n        _this2.initCarousel();\n        _this2.initThumbCarousel();\n      }).catch(function (event) {\n        console.log("error while loading lightbox", event);\n      });\n    });\n  },\n  methods: {\n    getImageCount: function getImageCount() {\n      return this.carouselImages.length > this.maxQuantity ? this.maxQuantity : this.carouselImages.length;\n    },\n    reInitialize: function reInitialize() {\n      var $owl = $(this.$refs.single);\n      $owl.trigger("destroy.owl.carousel");\n      $owl.html($owl.find(".owl-stage-outer").html()).removeClass("owl-loaded");\n      $owl.find(".owl-item").remove();\n      var $thumbs = $(this.$refs.thumbs);\n      $thumbs.trigger("destroy.owl.carousel");\n      $thumbs.html($thumbs.find(".owl-stage-outer").html()).removeClass("owl-loaded");\n      $thumbs.find(".owl-item").remove();\n      this.initCarousel();\n      this.initThumbCarousel();\n    },\n    initCarousel: function initCarousel() {\n      var _this3 = this;\n      var imageCount = this.getImageCount();\n      var carouselSettings = {\n        autoHeight: true,\n        dots: this.showDots,\n        items: 1,\n        lazyLoad: true,\n        rewind: true,\n        margin: 10,\n        mouseDrag: imageCount > 1,\n        nav: imageCount > 1,\n        navClass: ["owl-single-item-nav left carousel-control", "owl-single-item-nav right carousel-control"],\n        navContainerClass: "",\n        navText: ["<i class=\\"owl-single-item-control fa fa-chevron-left\\" aria-hidden=\\"true\\"></i>", "<i class=\\"owl-single-item-control fa fa-chevron-right\\" aria-hidden=\\"true\\"></i>"],\n        smartSpeed: 350,\n        onChanged: function onChanged(event) {\n          var $thumb = $(_this3.$refs.thumbs);\n          $thumb.trigger("to.owl.carousel", [event.page.index, 350]);\n        },\n        onInitialized: function onInitialized(event) {\n          _this3.initialized = true;\n        }\n      };\n      if (this.animationStyle !== "standard") {\n        carouselSettings.animateOut = this.animationStyle;\n      }\n      $(this.$refs.single).owlCarousel(carouselSettings);\n      if (!(0,utils/* isNullOrUndefined */.le)(window.lightbox)) {\n        lightbox.option({\n          wrapAround: true,\n          albumLabel: this.$translate("Ceres::Template.singleItemLightboxImageShown")\n        });\n      }\n      $(this.$refs.single).on("changed.owl.carousel", function (event) {\n        _this3.currentItem = event.page.index;\n      });\n    },\n    initThumbCarousel: function initThumbCarousel() {\n      $(this.$refs.thumbs).owlCarousel({\n        autoHeight: true,\n        dots: false,\n        items: 5,\n        lazyLoad: true,\n        loop: false,\n        margin: 10,\n        mouseDrag: false,\n        center: false,\n        nav: true,\n        navClass: ["owl-single-item-nav left carousel-control", "owl-single-item-nav right carousel-control"],\n        navContainerClass: "",\n        navText: ["<i class=\\"owl-single-item-control fa fa-chevron-left\\" aria-hidden=\\"true\\"></i>", "<i class=\\"owl-single-item-control fa fa-chevron-right\\" aria-hidden=\\"true\\"></i>"],\n        smartSpeed: 350\n      });\n    },\n    goTo: function goTo(index) {\n      var $owl = $(this.$refs.single);\n      $owl.trigger("to.owl.carousel", [index, 350]);\n    },\n    getAltText: function getAltText(image) {\n      return image && image.alternate ? image.alternate : this.$options.filters.itemName(this.currentVariation);\n    },\n    getImageName: function getImageName(image) {\n      return image && image.name ? image.name : this.$options.filters.itemName(this.currentVariation);\n    },\n    loadLightbox: function loadLightbox() {\n      var _this4 = this;\n      return new Promise(function (resolve, reject) {\n        var script = document.querySelector("script#lightboxscript");\n        if (!(0,utils/* isNullOrUndefined */.le)(script)) {\n          resolve();\n        } else {\n          var _script = document.createElement("script");\n          _script.type = "text/javascript";\n          _script.id = "lightboxscript";\n          _script.src = "".concat(_this4.pluginPath, "/js/dist/lightbox.min.js");\n          _script.addEventListener("load", function () {\n            return resolve();\n          }, false);\n          _script.addEventListener("error", function (event) {\n            return reject(event);\n          }, false);\n          document.body.appendChild(_script);\n        }\n      });\n    }\n  }\n});\n;// CONCATENATED MODULE: ./resources/js/src/app/components/item/ItemImageCarousel.vue?vue&type=script&lang=js&\n /* harmony default export */ var item_ItemImageCarouselvue_type_script_lang_js_ = (ItemImageCarouselvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__(1900);\n;// CONCATENATED MODULE: ./resources/js/src/app/components/item/ItemImageCarousel.vue\n\n\n\n\n\n/* normalize component */\n;\nvar component = (0,componentNormalizer/* default */.Z)(\n  item_ItemImageCarouselvue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var ItemImageCarousel = (component.exports);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFFLDJDQUNBO01BQ0E7SUFDQTtJQUVBc0Usc0NBQ0E7TUFBQTtNQUNBLDhDQUNBO1FBQ0E7UUFFQSxrREFDQTtVQUNBQztRQUNBLE9BRUE7VUFDQTtVQUVBQztVQUNBQTtVQUNBQTtVQUVBQTtZQUFBO1VBQUE7VUFDQUE7WUFBQTtVQUFBO1VBRUFDO1FBQ0E7TUFDQTtJQUNBO0VBQ0E7QUFDQSxDQUFDLEU7O0FDN1M2TixDQUFDLG1GQUFlLHlDQUFHLEVBQUMsQzs7OztBQ0FsSjtBQUMzQjtBQUNMOzs7QUFHaEU7QUFDQSxDQUFzRztBQUN0RyxnQkFBZ0Isc0NBQVU7QUFDMUIsRUFBRSw4Q0FBTTtBQUNSLEVBQUUsTUFBTTtBQUNSLEVBQUUsZUFBZTtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsc0RBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9DZXJlcy8uL3Jlc291cmNlcy9qcy9zcmMvYXBwL2NvbXBvbmVudHMvaXRlbS9JdGVtSW1hZ2VDYXJvdXNlbC52dWU/OGFhYSIsIndlYnBhY2s6Ly9DZXJlcy8uL3Jlc291cmNlcy9qcy9zcmMvYXBwL2NvbXBvbmVudHMvaXRlbS9JdGVtSW1hZ2VDYXJvdXNlbC52dWU/ZGFkMiIsIndlYnBhY2s6Ly9DZXJlcy9yZXNvdXJjZXMvanMvc3JjL2FwcC9jb21wb25lbnRzL2l0ZW0vSXRlbUltYWdlQ2Fyb3VzZWwudnVlPzlmNjYiLCJ3ZWJwYWNrOi8vQ2VyZXMvLi9yZXNvdXJjZXMvanMvc3JjL2FwcC9jb21wb25lbnRzL2l0ZW0vSXRlbUltYWdlQ2Fyb3VzZWwudnVlP2JjYmMiLCJ3ZWJwYWNrOi8vQ2VyZXMvLi9yZXNvdXJjZXMvanMvc3JjL2FwcC9jb21wb25lbnRzL2l0ZW0vSXRlbUltYWdlQ2Fyb3VzZWwudnVlPzQ1OTgiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIHJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgdmFyIF92bSA9IHRoaXMsXG4gICAgX2MgPSBfdm0uX3NlbGYuX2NcbiAgcmV0dXJuIF9jKFxuICAgIFwiZGl2XCIsXG4gICAgeyBhdHRyczogeyBpdGVtc2NvcGU6IFwiXCIsIGl0ZW10eXBlOiBcImh0dHA6Ly9zY2hlbWEub3JnL1RoaW5nXCIgfSB9LFxuICAgIFtcbiAgICAgIFtcbiAgICAgICAgX2MoXG4gICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICByZWY6IFwic2luZ2xlXCIsXG4gICAgICAgICAgICBzdGF0aWNDbGFzczpcbiAgICAgICAgICAgICAgXCJzaW5nbGUtY2Fyb3VzZWwgb3dsLWNhcm91c2VsIG93bC10aGVtZSBvd2wtc2luZ2xlLWl0ZW0gbXQtMFwiLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgX3ZtLl9sKF92bS5zaW5nbGVJbWFnZXMsIGZ1bmN0aW9uIChpbWFnZSkge1xuICAgICAgICAgICAgcmV0dXJuIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwicHJvcC0xLTFcIiB9LCBbXG4gICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgIFwiYVwiLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgIGhyZWY6IGltYWdlLnVybCxcbiAgICAgICAgICAgICAgICAgICAgXCJkYXRhLWxpZ2h0Ym94XCI6IFwic2luZ2xlLWl0ZW0taW1hZ2VcIiArIF92bS5fdWlkLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgIF9jKFwiaW1nXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwib3dsLWxhenlcIixcbiAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICBcImRhdGEtc3JjXCI6IGltYWdlLnVybCxcbiAgICAgICAgICAgICAgICAgICAgICBhbHQ6IF92bS5nZXRBbHRUZXh0KGltYWdlKSxcbiAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogX3ZtLmdldEltYWdlTmFtZShpbWFnZSksXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICBdKVxuICAgICAgICAgIH0pLFxuICAgICAgICAgIDBcbiAgICAgICAgKSxcbiAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgX3ZtLnNob3dUaHVtYnNcbiAgICAgICAgICA/IF9jKFxuICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmVmOiBcInRodW1ic1wiLFxuICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOlxuICAgICAgICAgICAgICAgICAgXCJvd2wtdGh1bWJzIG93bC1jYXJvdXNlbCBvd2wtdGhlbWUgb3dsLXNpbmdsZS1pdGVtXCIsXG4gICAgICAgICAgICAgICAgYXR0cnM6IHsgaWQ6IFwidGh1bWItY2Fyb3VzZWxcIiB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBfdm0uX2woX3ZtLmNhcm91c2VsSW1hZ2VzLCBmdW5jdGlvbiAoaW1hZ2VQcmV2aWV3LCBpbmRleCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcInByb3AtMS0xXCIgfSwgW1xuICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJpbWFnZS1jb250YWluZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5nb1RvKGluZGV4KVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgX2MoXCJsYXp5LWltZ1wiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzczogeyBhY3RpdmU6IF92bS5jdXJyZW50SXRlbSA9PT0gaW5kZXggfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwicGljdHVyZS1jbGFzc1wiOiBcIm93bC10aHVtYiBib3JkZXItYXBwZWFyYW5jZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcImltYWdlLXVybFwiOiBpbWFnZVByZXZpZXcudXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhbHQ6IF92bS5nZXRBbHRUZXh0KGltYWdlUHJldmlldyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBfdm0uZ2V0SW1hZ2VOYW1lKGltYWdlUHJldmlldyksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAwXG4gICAgICAgICAgICApXG4gICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgIF0sXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgIV92bS5pbml0aWFsaXplZFxuICAgICAgICA/IF9jKFxuICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6XG4gICAgICAgICAgICAgICAgXCJzaW5nbGUtY2Fyb3VzZWwgb3dsLWNhcm91c2VsIG93bC1sb2FkZWQgb3dsLXRoZW1lIG93bC1zaW5nbGUtaXRlbSBtdC0wXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcInByb3AtMS0xXCIgfSwgW1xuICAgICAgICAgICAgICAgIF9jKFwiaW1nXCIsIHtcbiAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcIm93bC1wbGFjZWhvbGRlclwiLFxuICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgc3JjOiBfdm0uc2luZ2xlSW1hZ2VzWzBdLnVybCxcbiAgICAgICAgICAgICAgICAgICAgYWx0OiBfdm0uZ2V0QWx0VGV4dChfdm0uc2luZ2xlSW1hZ2VzWzBdLnVybCksXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBfdm0uZ2V0SW1hZ2VOYW1lKF92bS5zaW5nbGVJbWFnZXNbMF0udXJsKSxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgXVxuICAgICAgICAgIClcbiAgICAgICAgOiBfdm0uX2UoKSxcbiAgICBdLFxuICAgIDJcbiAgKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsImV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTIudXNlIS4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3RlbXBsYXRlTG9hZGVyLmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzJdIS4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vSXRlbUltYWdlQ2Fyb3VzZWwudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPWQ0ODg0ZmYwJlwiIiwiPHRlbXBsYXRlPlxuICAgIDxkaXYgaXRlbXNjb3BlIGl0ZW10eXBlPVwiaHR0cDovL3NjaGVtYS5vcmcvVGhpbmdcIj5cbiAgICAgICAgPHRlbXBsYXRlPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNpbmdsZS1jYXJvdXNlbCBvd2wtY2Fyb3VzZWwgb3dsLXRoZW1lIG93bC1zaW5nbGUtaXRlbSBtdC0wXCIgcmVmPVwic2luZ2xlXCI+XG4gICAgICAgICAgICAgICAgPGRpdiB2LWZvcj1cImltYWdlIGluIHNpbmdsZUltYWdlc1wiIGNsYXNzPVwicHJvcC0xLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgPGEgOmhyZWY9XCJpbWFnZS51cmxcIiA6ZGF0YS1saWdodGJveD1cIidzaW5nbGUtaXRlbS1pbWFnZScgKyBfdWlkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIGNsYXNzPVwib3dsLWxhenlcIiA6ZGF0YS1zcmM9XCJpbWFnZS51cmxcIiA6YWx0PVwiZ2V0QWx0VGV4dChpbWFnZSlcIiA6dGl0bGU9XCJnZXRJbWFnZU5hbWUoaW1hZ2UpXCI+XG4gICAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiB2LWlmPVwic2hvd1RodW1ic1wiIGlkPVwidGh1bWItY2Fyb3VzZWxcIiBjbGFzcz1cIm93bC10aHVtYnMgb3dsLWNhcm91c2VsIG93bC10aGVtZSBvd2wtc2luZ2xlLWl0ZW1cIiByZWY9XCJ0aHVtYnNcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvcC0xLTFcIiB2LWZvcj1cIihpbWFnZVByZXZpZXcsIGluZGV4KSBpbiBjYXJvdXNlbEltYWdlc1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW1hZ2UtY29udGFpbmVyXCIgQGNsaWNrPVwiZ29UbyhpbmRleClcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYXp5LWltZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpY3R1cmUtY2xhc3M9XCJvd2wtdGh1bWIgYm9yZGVyLWFwcGVhcmFuY2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYtYmluZDpjbGFzcz1cInsgJ2FjdGl2ZSc6IGN1cnJlbnRJdGVtID09PSBpbmRleH1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDppbWFnZS11cmw9XCJpbWFnZVByZXZpZXcudXJsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6YWx0PVwiZ2V0QWx0VGV4dChpbWFnZVByZXZpZXcpXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6dGl0bGU9XCJnZXRJbWFnZU5hbWUoaW1hZ2VQcmV2aWV3KVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9sYXp5LWltZz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC90ZW1wbGF0ZT5cbiAgICAgICAgPGRpdiB2LWlmPVwiIWluaXRpYWxpemVkXCIgY2xhc3M9XCJzaW5nbGUtY2Fyb3VzZWwgb3dsLWNhcm91c2VsIG93bC1sb2FkZWQgb3dsLXRoZW1lIG93bC1zaW5nbGUtaXRlbSBtdC0wXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvcC0xLTFcIj5cbiAgICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwib3dsLXBsYWNlaG9sZGVyXCJcbiAgICAgICAgICAgICAgICAgICAgOnNyYz1cInNpbmdsZUltYWdlc1swXS51cmxcIlxuICAgICAgICAgICAgICAgICAgICA6YWx0PVwiZ2V0QWx0VGV4dChzaW5nbGVJbWFnZXNbMF0udXJsKVwiXG4gICAgICAgICAgICAgICAgICAgIDp0aXRsZT1cImdldEltYWdlTmFtZShzaW5nbGVJbWFnZXNbMF0udXJsKVwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdD5cbmltcG9ydCB7IGlzTnVsbE9yVW5kZWZpbmVkIH0gZnJvbSBcIi4uLy4uL2hlbHBlci91dGlsc1wiO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgbmFtZTogXCJpdGVtLWltYWdlLWNhcm91c2VsXCIsXG5cbiAgICBwcm9wczoge1xuICAgICAgICBtYXhRdWFudGl0eTpcbiAgICAgICAge1xuICAgICAgICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgICAgICAgZGVmYXVsdDogMTBcbiAgICAgICAgfSxcbiAgICAgICAgaW1hZ2VVcmxBY2Nlc3NvcjpcbiAgICAgICAge1xuICAgICAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICAgICAgZGVmYXVsdDogXCJ1cmxcIlxuICAgICAgICB9LFxuICAgICAgICBzaG93VGh1bWJzOlxuICAgICAgICB7XG4gICAgICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICAgICAgZGVmYXVsdDogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBzaG93RG90czpcbiAgICAgICAge1xuICAgICAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgICAgIGRlZmF1bHQ6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgYW5pbWF0aW9uU3R5bGU6XG4gICAgICAgIHtcbiAgICAgICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgICAgIGRlZmF1bHQ6IFwic3RhbmRhcmRcIlxuICAgICAgICB9LFxuICAgICAgICBwbHVnaW5QYXRoOlxuICAgICAgICB7XG4gICAgICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgICAgICBkZWZhdWx0OiBcIlwiXG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgaW5qZWN0OiB7XG4gICAgICAgIGl0ZW1JZDoge1xuICAgICAgICAgICAgZGVmYXVsdDogbnVsbFxuICAgICAgICB9XG4gICAgfSxcblxuICAgIGRhdGEoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGN1cnJlbnRJdGVtOiAwLFxuICAgICAgICAgICAgaW5pdGlhbGl6ZWQ6IGZhbHNlXG4gICAgICAgIH07XG4gICAgfSxcblxuICAgIGNvbXB1dGVkOlxuICAgIHtcbiAgICAgICAgY3VycmVudFZhcmlhdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzW2Ake3RoaXMuaXRlbUlkfS9jdXJyZW50SXRlbVZhcmlhdGlvbmBdXG4gICAgICAgIH0sXG5cbiAgICAgICAgY2Fyb3VzZWxJbWFnZXMoKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy4kb3B0aW9ucy5maWx0ZXJzLml0ZW1JbWFnZXMoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFZhcmlhdGlvbi5pbWFnZXMsXG4gICAgICAgICAgICAgICAgICAgIFwidXJsUHJldmlld1wiXG4gICAgICAgICAgICAgICAgKS5zbGljZSgwLCB0aGlzLm1heFF1YW50aXR5KTtcbiAgICAgICAgfSxcblxuICAgICAgICBzaW5nbGVJbWFnZXMoKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy4kb3B0aW9ucy5maWx0ZXJzLml0ZW1JbWFnZXMoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFZhcmlhdGlvbi5pbWFnZXMsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VVcmxBY2Nlc3NvclxuICAgICAgICAgICAgKS5zbGljZSgwLCB0aGlzLm1heFF1YW50aXR5KTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICB3YXRjaDoge1xuICAgICAgICBjdXJyZW50VmFyaWF0aW9uOlxuICAgICAgICB7XG4gICAgICAgICAgICBoYW5kbGVyKHZhbCwgb2xkVmFsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh2YWwgIT09IG9sZFZhbClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT5cbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZUluaXRpYWxpemUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlZXA6IHRydWVcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBtb3VudGVkKClcbiAgICB7XG4gICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubG9hZExpZ2h0Ym94KCkudGhlbigoKSA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbml0Q2Fyb3VzZWwoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbml0VGh1bWJDYXJvdXNlbCgpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGV2ZW50ID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImVycm9yIHdoaWxlIGxvYWRpbmcgbGlnaHRib3hcIiwgZXZlbnQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgbWV0aG9kczpcbiAgICB7XG4gICAgICAgIGdldEltYWdlQ291bnQoKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jYXJvdXNlbEltYWdlcy5sZW5ndGggPiB0aGlzLm1heFF1YW50aXR5ID8gdGhpcy5tYXhRdWFudGl0eSA6IHRoaXMuY2Fyb3VzZWxJbWFnZXMubGVuZ3RoO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlSW5pdGlhbGl6ZSgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0ICRvd2wgPSAkKHRoaXMuJHJlZnMuc2luZ2xlKTtcblxuICAgICAgICAgICAgJG93bC50cmlnZ2VyKFwiZGVzdHJveS5vd2wuY2Fyb3VzZWxcIik7XG4gICAgICAgICAgICAkb3dsLmh0bWwoJG93bC5maW5kKFwiLm93bC1zdGFnZS1vdXRlclwiKS5odG1sKCkpLnJlbW92ZUNsYXNzKFwib3dsLWxvYWRlZFwiKTtcbiAgICAgICAgICAgICRvd2wuZmluZChcIi5vd2wtaXRlbVwiKS5yZW1vdmUoKTtcblxuICAgICAgICAgICAgY29uc3QgJHRodW1icyA9ICQodGhpcy4kcmVmcy50aHVtYnMpO1xuXG4gICAgICAgICAgICAkdGh1bWJzLnRyaWdnZXIoXCJkZXN0cm95Lm93bC5jYXJvdXNlbFwiKTtcbiAgICAgICAgICAgICR0aHVtYnMuaHRtbCgkdGh1bWJzLmZpbmQoXCIub3dsLXN0YWdlLW91dGVyXCIpLmh0bWwoKSkucmVtb3ZlQ2xhc3MoXCJvd2wtbG9hZGVkXCIpO1xuICAgICAgICAgICAgJHRodW1icy5maW5kKFwiLm93bC1pdGVtXCIpLnJlbW92ZSgpO1xuXG4gICAgICAgICAgICB0aGlzLmluaXRDYXJvdXNlbCgpO1xuICAgICAgICAgICAgdGhpcy5pbml0VGh1bWJDYXJvdXNlbCgpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGluaXRDYXJvdXNlbCgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGltYWdlQ291bnQgPSB0aGlzLmdldEltYWdlQ291bnQoKTtcbiAgICAgICAgICAgIGNvbnN0IGNhcm91c2VsU2V0dGluZ3MgPSB7XG4gICAgICAgICAgICAgICAgYXV0b0hlaWdodCAgICAgICA6IHRydWUsXG4gICAgICAgICAgICAgICAgZG90cyAgICAgICAgICAgICA6IHRoaXMuc2hvd0RvdHMsXG4gICAgICAgICAgICAgICAgaXRlbXMgICAgICAgICAgICA6IDEsXG4gICAgICAgICAgICAgICAgbGF6eUxvYWQgICAgICAgICA6IHRydWUsXG4gICAgICAgICAgICAgICAgcmV3aW5kICAgICAgICAgICA6IHRydWUsXG4gICAgICAgICAgICAgICAgbWFyZ2luICAgICAgICAgICA6IDEwLFxuICAgICAgICAgICAgICAgIG1vdXNlRHJhZyAgICAgICAgOiBpbWFnZUNvdW50ID4gMSxcbiAgICAgICAgICAgICAgICBuYXYgICAgICAgICAgICAgIDogaW1hZ2VDb3VudCA+IDEsXG4gICAgICAgICAgICAgICAgbmF2Q2xhc3MgICAgICAgICA6IFtcbiAgICAgICAgICAgICAgICAgICAgXCJvd2wtc2luZ2xlLWl0ZW0tbmF2IGxlZnQgY2Fyb3VzZWwtY29udHJvbFwiLFxuICAgICAgICAgICAgICAgICAgICBcIm93bC1zaW5nbGUtaXRlbS1uYXYgcmlnaHQgY2Fyb3VzZWwtY29udHJvbFwiXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBuYXZDb250YWluZXJDbGFzczogXCJcIixcbiAgICAgICAgICAgICAgICBuYXZUZXh0ICAgICAgICAgIDogW1xuICAgICAgICAgICAgICAgICAgICBcIjxpIGNsYXNzPVxcXCJvd2wtc2luZ2xlLWl0ZW0tY29udHJvbCBmYSBmYS1jaGV2cm9uLWxlZnRcXFwiIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIj48L2k+XCIsXG4gICAgICAgICAgICAgICAgICAgIFwiPGkgY2xhc3M9XFxcIm93bC1zaW5nbGUtaXRlbS1jb250cm9sIGZhIGZhLWNoZXZyb24tcmlnaHRcXFwiIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIj48L2k+XCJcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIHNtYXJ0U3BlZWQgICAgICAgOiAzNTAsXG4gICAgICAgICAgICAgICAgb25DaGFuZ2VkOiBldmVudCA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgJHRodW1iID0gJCh0aGlzLiRyZWZzLnRodW1icyk7XG5cbiAgICAgICAgICAgICAgICAgICAgJHRodW1iLnRyaWdnZXIoXCJ0by5vd2wuY2Fyb3VzZWxcIiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucGFnZS5pbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgIDM1MFxuICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uSW5pdGlhbGl6ZWQ6IGV2ZW50ID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TdHlsZSAhPT0gXCJzdGFuZGFyZFwiKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNhcm91c2VsU2V0dGluZ3MuYW5pbWF0ZU91dCA9IHRoaXMuYW5pbWF0aW9uU3R5bGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICQodGhpcy4kcmVmcy5zaW5nbGUpLm93bENhcm91c2VsKGNhcm91c2VsU2V0dGluZ3MpO1xuXG4gICAgICAgICAgICBpZiAoIWlzTnVsbE9yVW5kZWZpbmVkKHdpbmRvdy5saWdodGJveCkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGlnaHRib3gub3B0aW9uKHtcbiAgICAgICAgICAgICAgICAgICAgd3JhcEFyb3VuZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgYWxidW1MYWJlbDogdGhpcy4kdHJhbnNsYXRlKFwiQ2VyZXM6OlRlbXBsYXRlLnNpbmdsZUl0ZW1MaWdodGJveEltYWdlU2hvd25cIilcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJCh0aGlzLiRyZWZzLnNpbmdsZSkub24oXCJjaGFuZ2VkLm93bC5jYXJvdXNlbFwiLCBldmVudCA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEl0ZW0gPSBldmVudC5wYWdlLmluZGV4O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgaW5pdFRodW1iQ2Fyb3VzZWwoKVxuICAgICAgICB7XG4gICAgICAgICAgICAkKHRoaXMuJHJlZnMudGh1bWJzKS5vd2xDYXJvdXNlbCh7XG4gICAgICAgICAgICAgICAgYXV0b0hlaWdodCAgICAgICA6IHRydWUsXG4gICAgICAgICAgICAgICAgZG90cyAgICAgICAgICAgICA6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGl0ZW1zICAgICAgICAgICAgOiA1LFxuICAgICAgICAgICAgICAgIGxhenlMb2FkICAgICAgICAgOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxvb3AgICAgICAgICAgICAgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBtYXJnaW4gICAgICAgICAgIDogMTAsXG4gICAgICAgICAgICAgICAgbW91c2VEcmFnICAgICAgICA6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNlbnRlciAgICAgICAgICAgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuYXYgICAgICAgICAgICAgIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYXZDbGFzcyAgICAgICAgIDogW1xuICAgICAgICAgICAgICAgICAgICBcIm93bC1zaW5nbGUtaXRlbS1uYXYgbGVmdCBjYXJvdXNlbC1jb250cm9sXCIsXG4gICAgICAgICAgICAgICAgICAgIFwib3dsLXNpbmdsZS1pdGVtLW5hdiByaWdodCBjYXJvdXNlbC1jb250cm9sXCJcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIG5hdkNvbnRhaW5lckNsYXNzOiBcIlwiLFxuICAgICAgICAgICAgICAgIG5hdlRleHQgICAgICAgICAgOiBbXG4gICAgICAgICAgICAgICAgICAgIFwiPGkgY2xhc3M9XFxcIm93bC1zaW5nbGUtaXRlbS1jb250cm9sIGZhIGZhLWNoZXZyb24tbGVmdFxcXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiPjwvaT5cIixcbiAgICAgICAgICAgICAgICAgICAgXCI8aSBjbGFzcz1cXFwib3dsLXNpbmdsZS1pdGVtLWNvbnRyb2wgZmEgZmEtY2hldnJvbi1yaWdodFxcXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiPjwvaT5cIlxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgc21hcnRTcGVlZCAgICAgICA6IDM1MFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ29UbyhpbmRleClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgJG93bCA9ICQodGhpcy4kcmVmcy5zaW5nbGUpO1xuXG4gICAgICAgICAgICAkb3dsLnRyaWdnZXIoXCJ0by5vd2wuY2Fyb3VzZWxcIiwgW1xuICAgICAgICAgICAgICAgIGluZGV4LFxuICAgICAgICAgICAgICAgIDM1MFxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0QWx0VGV4dChpbWFnZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIGltYWdlICYmIGltYWdlLmFsdGVybmF0ZSA/IGltYWdlLmFsdGVybmF0ZSA6IHRoaXMuJG9wdGlvbnMuZmlsdGVycy5pdGVtTmFtZSh0aGlzLmN1cnJlbnRWYXJpYXRpb24pO1xuICAgICAgICB9LFxuXG4gICAgICAgIGdldEltYWdlTmFtZShpbWFnZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIGltYWdlICYmIGltYWdlLm5hbWUgPyBpbWFnZS5uYW1lIDogdGhpcy4kb3B0aW9ucy5maWx0ZXJzLml0ZW1OYW1lKHRoaXMuY3VycmVudFZhcmlhdGlvbik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgbG9hZExpZ2h0Ym94KClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcInNjcmlwdCNsaWdodGJveHNjcmlwdFwiKTtcblxuICAgICAgICAgICAgICAgIGlmICghaXNOdWxsT3JVbmRlZmluZWQoc2NyaXB0KSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcblxuICAgICAgICAgICAgICAgICAgICBzY3JpcHQudHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI7XG4gICAgICAgICAgICAgICAgICAgIHNjcmlwdC5pZCA9IFwibGlnaHRib3hzY3JpcHRcIjtcbiAgICAgICAgICAgICAgICAgICAgc2NyaXB0LnNyYyA9IGAkeyB0aGlzLnBsdWdpblBhdGggfS9qcy9kaXN0L2xpZ2h0Ym94Lm1pbi5qc2A7XG5cbiAgICAgICAgICAgICAgICAgICAgc2NyaXB0LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsICgpID0+IHJlc29sdmUoKSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBzY3JpcHQuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIGV2ZW50ID0+IHJlamVjdChldmVudCksIGZhbHNlKTtcblxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG48L3NjcmlwdD5cbiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMi51c2UhLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9JdGVtSW1hZ2VDYXJvdXNlbC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMi51c2UhLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9JdGVtSW1hZ2VDYXJvdXNlbC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCIiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL0l0ZW1JbWFnZUNhcm91c2VsLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1kNDg4NGZmMCZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9JdGVtSW1hZ2VDYXJvdXNlbC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL0l0ZW1JbWFnZUNhcm91c2VsLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIl0sIm5hbWVzIjpbInJlbmRlciIsIl92bSIsIl9jIiwiX3NlbGYiLCJhdHRycyIsIml0ZW1zY29wZSIsIml0ZW10eXBlIiwicmVmIiwic3RhdGljQ2xhc3MiLCJfbCIsInNpbmdsZUltYWdlcyIsImltYWdlIiwiaHJlZiIsInVybCIsIl91aWQiLCJhbHQiLCJnZXRBbHRUZXh0IiwidGl0bGUiLCJnZXRJbWFnZU5hbWUiLCJfdiIsInNob3dUaHVtYnMiLCJpZCIsImNhcm91c2VsSW1hZ2VzIiwiaW1hZ2VQcmV2aWV3IiwiaW5kZXgiLCJvbiIsImNsaWNrIiwiJGV2ZW50IiwiZ29UbyIsImNsYXNzIiwiYWN0aXZlIiwiY3VycmVudEl0ZW0iLCJfZSIsImluaXRpYWxpemVkIiwic3JjIiwic3RhdGljUmVuZGVyRm5zIiwiX3dpdGhTdHJpcHBlZCIsIm5hbWUiLCJwcm9wcyIsIm1heFF1YW50aXR5IiwidHlwZSIsImRlZmF1bHQiLCJpbWFnZVVybEFjY2Vzc29yIiwic2hvd0RvdHMiLCJhbmltYXRpb25TdHlsZSIsInBsdWdpblBhdGgiLCJpbmplY3QiLCJpdGVtSWQiLCJkYXRhIiwiY29tcHV0ZWQiLCJjdXJyZW50VmFyaWF0aW9uIiwid2F0Y2giLCJoYW5kbGVyIiwic2V0VGltZW91dCIsImRlZXAiLCJtb3VudGVkIiwiY2F0Y2giLCJjb25zb2xlIiwibWV0aG9kcyIsImdldEltYWdlQ291bnQiLCJyZUluaXRpYWxpemUiLCIkb3dsIiwiJHRodW1icyIsImluaXRDYXJvdXNlbCIsImF1dG9IZWlnaHQiLCJkb3RzIiwiaXRlbXMiLCJsYXp5TG9hZCIsInJld2luZCIsIm1hcmdpbiIsIm1vdXNlRHJhZyIsIm5hdiIsIm5hdkNsYXNzIiwibmF2Q29udGFpbmVyQ2xhc3MiLCJuYXZUZXh0Iiwic21hcnRTcGVlZCIsIm9uQ2hhbmdlZCIsIiR0aHVtYiIsImV2ZW50Iiwib25Jbml0aWFsaXplZCIsImNhcm91c2VsU2V0dGluZ3MiLCIkIiwibGlnaHRib3giLCJ3cmFwQXJvdW5kIiwiYWxidW1MYWJlbCIsImluaXRUaHVtYkNhcm91c2VsIiwibG9vcCIsImNlbnRlciIsImxvYWRMaWdodGJveCIsInJlc29sdmUiLCJzY3JpcHQiLCJkb2N1bWVudCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///9811\n')}}]);